<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">
<meta name="referrer" content="never">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="../../lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="../../lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="../../css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="../../images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="../../images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="../../images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="../../images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="../../atom.xml" title="乱码三千 – 分享实用IT技术" type="application/atom+xml">






<meta name="description" content="android程序员一枚,擅长java,kotlin,python,金融投资,欢迎交流~">
<meta name="keywords" content="android,java,kotlin,golang,go,python,自动化,量化,金融,php,docker,linux">
<meta property="og:type" content="website">
<meta property="og:title" content="乱码三千 – 分享实用IT技术">
<meta property="og:url" content="https://code.newban.cn/page/37/index.html">
<meta property="og:site_name" content="乱码三千 – 分享实用IT技术">
<meta property="og:description" content="android程序员一枚,擅长java,kotlin,python,金融投资,欢迎交流~">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="乱码三千 – 分享实用IT技术">
<meta name="twitter:description" content="android程序员一枚,擅长java,kotlin,python,金融投资,欢迎交流~">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>
<!--谷歌广告验证代码-->
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({
          google_ad_client: "ca-pub-2626449904708114",
          enable_page_level_ads: true
     });
</script>
<!--谷歌广告验证代码-->

<!--短链广告-->
<!--<script type="text/javascript">
    var adfly_id = 25792435;
    var adfly_advert = 'banner';
    var popunder = false;
    var exclude_domains = ['code.newban.cn','newban.cn',  'localhost:4000'];
</script>
<script src="https://cdn.adf.ly/js/link-converter.js"></script>-->
<!--短链广告-->



  <link rel="canonical" href="https://code.newban.cn/page/37/">





  <title>乱码三千 – 分享实用IT技术</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
  
<a href="https://www.github.com/songjianzaina" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">乱码三千 – 分享实用IT技术</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">乱码三千 – 码出一个新世界</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="http://www.newban.cn/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="https://code.newban.cn/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../12.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../12.html" itemprop="url">如何检测获取到的代理ip是否为高匿ip</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-14T14:04:38+08:00">
                2020-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x65B9;&#x6CD5;&#x4E00;"><a href="#&#x65B9;&#x6CD5;&#x4E00;" class="headerlink" title="&#x65B9;&#x6CD5;&#x4E00;"></a>&#x65B9;&#x6CD5;&#x4E00;</h2><p>&#x901A;&#x8FC7;&#x7B2C;&#x4E09;&#x65B9;&#x63A5;&#x53E3;&#x68C0;&#x6D4B;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url = &quot;http://httpbin.org/ip&quot;  # &#x5982;&#x679C;&#x8FD4;&#x56DE;&#x7684;ip&#x91CC;&#x9762;&#x6709;&#x672C;&#x673A;ip,&#x5219;&#x8BC1;&#x660E;&#x4E0D;&#x662F;&#x533F;&#x540D;&#x4EE3;&#x7406;</span><br><span class="line">url = &quot;http://httpbin.org/get?show_env=1&quot;  # &quot;origin&quot;&#x5BF9;&#x5E94;&#x7684;value&#x5982;&#x679C;&#x662F;&#x4F60;&#x7684;&#x672C;&#x673A;ip,&#x5219;&#x4E0D;&#x662F;&#x533F;&#x540D;&#x4EE3;&#x7406;</span><br></pre></td></tr></table></figure>

<p>&#x793A;&#x4F8B;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># &#x8BBF;&#x95EE;http://httpbin.org/ip &#x8FD4;&#x56DE;</span><br><span class="line"></span><br><span class="line">{</span><br><span class="line">  &quot;origin&quot;: &quot;117.136.0.213&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x548C;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># &#x8BBF;&#x95EE;http://httpbin.org/get?show_env=1 &#x8FD4;&#x56DE;</span><br><span class="line"></span><br><span class="line">{</span><br><span class="line">  &quot;args&quot;: {</span><br><span class="line">    &quot;show_env&quot;: &quot;1&quot;</span><br><span class="line">  }, </span><br><span class="line">  &quot;headers&quot;: {</span><br><span class="line">    &quot;Accept&quot;: &quot;text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8&quot;, </span><br><span class="line">    &quot;Accept-Encoding&quot;: &quot;gzip, deflate&quot;, </span><br><span class="line">    &quot;Accept-Language&quot;: &quot;zh-CN,zh;q=0.9&quot;, </span><br><span class="line">    &quot;Alexatoolbar-Alx-Ns-Ph&quot;: &quot;AlexaToolbar/alx-4.0.3&quot;, </span><br><span class="line">    &quot;Host&quot;: &quot;httpbin.org&quot;, </span><br><span class="line">    &quot;Upgrade-Insecure-Requests&quot;: &quot;1&quot;, </span><br><span class="line">    &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.110 Safari/537.36&quot;, </span><br><span class="line">    &quot;X-Amzn-Trace-Id&quot;: &quot;Root=1-5f5ebcfe-2047fe040ea2d1e594e5b6e0&quot;, </span><br><span class="line">    &quot;X-Forwarded-For&quot;: &quot;117.136.0.213&quot;, </span><br><span class="line">    &quot;X-Forwarded-Port&quot;: &quot;80&quot;, </span><br><span class="line">    &quot;X-Forwarded-Proto&quot;: &quot;http&quot;</span><br><span class="line">  }, </span><br><span class="line">  &quot;origin&quot;: &quot;117.136.0.213&quot;, </span><br><span class="line">  &quot;url&quot;: &quot;http://httpbin.org/get?show_env=1&quot;</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p>&#x9644;&#x4E0A;&#x7F51;&#x7AD9;&#x6E90;&#x7801;:<a href="/external_links/72a10f4cdace9c8810232189ffe484e1.html" target="blank" rel="noopener">https://github.com/postmanlabs/httpbin</a></p>
<h2 id="&#x65B9;&#x6CD5;&#x4E8C;"><a href="#&#x65B9;&#x6CD5;&#x4E8C;" class="headerlink" title="&#x65B9;&#x6CD5;&#x4E8C;"></a>&#x65B9;&#x6CD5;&#x4E8C;</h2><p>&#x5229;&#x7528;&#x67D0;&#x4E9B;&#x7981;&#x6B62;&#x4EE3;&#x7406;&#x8BBF;&#x95EE;&#x7684;&#x7F51;&#x7AD9;&#x8FDB;&#x884C;&#x4EE3;&#x7406;&#x8BBF;&#x95EE;&#x6D4B;&#x8BD5;,&#x6BD4;&#x5982;<a href="/external_links/53261466ea6ee90cfac3ac59b850361d.html" target="blank" rel="noopener"><strong>&#x5B54;&#x592B;&#x5B50;&#x65E7;&#x4E66;&#x7F51;</strong></a></p>
<h4 id="&#x6B65;&#x9AA4;"><a href="#&#x6B65;&#x9AA4;" class="headerlink" title="&#x6B65;&#x9AA4;:"></a>&#x6B65;&#x9AA4;:</h4><p>&#x7B2C;&#x4E00;&#x6B65; &#x5148;&#x5BF9;&#x5B54;&#x592B;&#x5B50;&#x8FDB;&#x884C;&#x9AD8;&#x9891;&#x8BBF;&#x95EE;(&#x4E0D;&#x4F7F;&#x7528;&#x4EE3;&#x7406;), &#x76F4;&#x5230;&#x65E0;&#x6CD5;&#x8BBF;&#x95EE;&#x4E3A;&#x6B62;(&#x8BF4;&#x660E;&#x672C;&#x673A;ip&#x5DF2;&#x7ECF;&#x88AB;&#x7981;&#x6B62;)</p>
<p>&#x7B2C;&#x4E8C;&#x6B65; &#x6362;&#x6210;&#x4EE3;&#x7406;&#x8FDB;&#x884C;&#x8BBF;&#x95EE; &#x5982;&#x679C;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x8BBF;&#x95EE; &#x5219;&#x4E3A;&#x9AD8;&#x533F;&#x4EE3;&#x7406; </p>
<h4 id="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"><a href="#&#x4EE3;&#x7801;&#x5B9E;&#x73B0;" class="headerlink" title="&#x4EE3;&#x7801;&#x5B9E;&#x73B0;"></a>&#x4EE3;&#x7801;&#x5B9E;&#x73B0;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">from threading import Thread</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def get_gao_ni_ip(ip, file_save):</span><br><span class="line">    url = &quot;http://book.kongfz.com/175804/1038155437/&quot;</span><br><span class="line">    headers = {</span><br><span class="line">        &apos;Cookie&apos;: &apos;PHPSESSID=0d12c303a92043f13a3cc2c329e444f36b44ef71; shoppingCartSessionId=74c831996eb9a1009d79244d7d915040; kfz_uuid=f53edd56-8938-48af-a447-9a07bde47ffa; reciever_area=1006000000; Hm_lvt_bca7840de7b518b3c5e6c6d73ca2662c=1552367977; Hm_lvt_33be6c04e0febc7531a1315c9594b136=1552367977; kfz_trace=f53edd56-8938-48af-a447-9a07bde47ffa|10072231|834871367e51d410|-; acw_tc=65c86a0a15523697386136416e812159c1e7ce1072aea90b9eb27c93ee05cc; BIGipServerpool_nxtqzj=527099402.24615.0000; Hm_lpvt_bca7840de7b518b3c5e6c6d73ca2662c=1552371456; Hm_lpvt_33be6c04e0febc7531a1315c9594b136=1552371456&apos;,</span><br><span class="line">        &apos;User-Agent&apos;: &apos;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/72.0.3626.121 Safari/537.36&apos;</span><br><span class="line">    }</span><br><span class="line">    proxies = {</span><br><span class="line">        &quot;http&quot;: &quot;http://&quot; + ip,</span><br><span class="line">    }</span><br><span class="line">    try:</span><br><span class="line">        resp = requests.get(url=url, headers=headers, proxies=proxies, timeout=2)</span><br><span class="line">        # print(resp.text)</span><br><span class="line">        if &quot;&#x80E1;&#x9002;&#x4F20;&#x8BBA;&#xFF0C;&#x4E0A;&quot; \</span><br><span class="line">           &quot;&#x4E0B;&#x3002;_&#x80E1;&#x660E;_&#x5B54;&#x592B;&#x5B50;&#x65E7;&#x4E66;&#x7F51;&quot; in resp.text:</span><br><span class="line">            print(&quot;ip&#x53EF;&#x7528;&quot;,ip)</span><br><span class="line">            file_save.write(ip + &apos;\n&apos;)</span><br><span class="line">        else:</span><br><span class="line">            print(&quot;errer&quot;)</span><br><span class="line">    except:</span><br><span class="line">        pass</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == &apos;__main__&apos;:</span><br><span class="line">    start_time = time.time()</span><br><span class="line">    # &#x50A8;&#x5B58;&#x53EF;&#x7528;&#x7684;ip&#x5730;&#x5740;</span><br><span class="line">    file_save = open(r&apos;D:\&apos;)</span><br><span class="line"></span><br><span class="line">    with open(r&apos;D:\&apos;, &apos;r&apos;,</span><br><span class="line">              encoding=&apos;utf-8&apos;) as file_ips:</span><br><span class="line">        ips_list = file_ips.readlines()</span><br><span class="line"></span><br><span class="line">    thread_list = []</span><br><span class="line">    total_num = 0</span><br><span class="line">    for ip_one in set(ips_list):</span><br><span class="line">        # &#x524D;&#x9762;&#x643A;&#x5E26;http&#x7684;</span><br><span class="line">        ip = ip_one.strip()</span><br><span class="line">        # &#x76F4;&#x63A5;ip+port&#x7684;</span><br><span class="line">        thred_ip = Thread(target=get_gao_ni_ip, args=[ip, file_save])</span><br><span class="line">        thread_list.append(thred_ip)</span><br><span class="line">        thred_ip.start()</span><br><span class="line">        total_num += 1</span><br><span class="line">        print(total_num, total_num)</span><br><span class="line">        # &#x4E3A;&#x4E86;&#x662F;&#x7535;&#x8111;CPU&#x4E0D;&#x81F3;&#x4E8E;&#x5F88;&#x5361;</span><br><span class="line">        time.sleep(0.005)</span><br><span class="line">    for i in thread_list:</span><br><span class="line">        i.join()</span><br><span class="line">    file_save.close()</span><br><span class="line">    end_time = time.time()</span><br><span class="line">    print((end_time - start_time), &apos;&#x79D2;&apos;)</span><br></pre></td></tr></table></figure>

<h2 id="&#x65B9;&#x6CD5;&#x4E09;"><a href="#&#x65B9;&#x6CD5;&#x4E09;" class="headerlink" title="&#x65B9;&#x6CD5;&#x4E09;"></a>&#x65B9;&#x6CD5;&#x4E09;</h2><p> &#x5229;&#x7528;&#x767E;&#x5EA6;&#x641C;&#x7D22;&#x5173;&#x952E;&#x5B57; IP&#xFF0C;&#x51FA;&#x6765;&#x7684;&#x7F51;&#x7AD9;&#x7684;&#x7ED3;&#x679C;&#xFF0C;&#x8FDB;&#x884C;&#x722C;&#x53D6;&#xFF0C;&#x7136;&#x540E;&#x5229;&#x7528;&#x81EA;&#x5DF1;&#x7535;&#x8111;&#x672C;&#x673A;ip&#x548C;request&#x8BF7;&#x6C42;&#x54CD;&#x5E94;&#x56DE;&#x6765;&#x7684;&#x4EE3;&#x7406;ip&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x8BF4;&#x660E;&#x8BF7;&#x6C42;&#x7684;&#x4EE3;&#x7406;IP&#x5C31;&#x662F;&#x9AD8;&#x533F;&#x7684;&#x3002;</p>
<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../13.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../13.html" itemprop="url">全球免费代理获取接口api</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-14T14:01:34+08:00">
                2020-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="&#x514D;&#x8D39;&#x4EE3;&#x7406;IP&#x5E93;"><a href="#&#x514D;&#x8D39;&#x4EE3;&#x7406;IP&#x5E93;" class="headerlink" title="&#x514D;&#x8D39;&#x4EE3;&#x7406;IP&#x5E93;"></a>&#x514D;&#x8D39;&#x4EE3;&#x7406;IP&#x5E93;</h1><h3 id="&#x8B66;&#x544A;"><a href="#&#x8B66;&#x544A;" class="headerlink" title="&#x8B66;&#x544A;"></a>&#x8B66;&#x544A;</h3><p>&#x4EE3;&#x7406;IP&#x91C7;&#x96C6;&#x4E8E;&#x7F51;&#x7EDC;&#xFF0C;&#x4EC5;&#x4F9B;&#x4E2A;&#x4EBA;&#x5B66;&#x4E60;&#x4F7F;&#x7528;&#x3002;&#x8BF7;&#x52FF;&#x7528;&#x4E8E;&#x975E;&#x6CD5;&#x9014;&#x5F84;&#xFF0C;&#x8FDD;&#x8005;&#x540E;&#x679C;&#x81EA;&#x8D1F;&#xFF01;</p>
<h3 id="&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x7684;&#x4EE3;&#x7406;IP"><a href="#&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x7684;&#x4EE3;&#x7406;IP" class="headerlink" title="&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x7684;&#x4EE3;&#x7406;IP"></a>&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x9A8C;&#x8BC1;&#x901A;&#x8FC7;&#x7684;&#x4EE3;&#x7406;IP</h3><ul>
<li>URL: <a href="/external_links/81a28c4b602ed2e06cb8ff0cf5eec581.html" target="blank" rel="noopener">https://ip.jiangxianli.com/api/proxy_ip</a></li>
<li>&#x54CD;&#x5E94;&#x6570;&#x636E;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;code&quot;:0,</span><br><span class="line">    &quot;msg&quot;:&quot;&#x6210;&#x529F;&quot;,</span><br><span class="line">    &quot;data&quot;:{</span><br><span class="line">        &quot;unique_id&quot;:&quot;ad0611edba534fd2c39a36d77e383cfb&quot;,</span><br><span class="line">        &quot;ip&quot;:&quot;118.193.107.80&quot;,</span><br><span class="line">        &quot;port&quot;:&quot;80&quot;,</span><br><span class="line">        &quot;ip_address&quot;:&quot;&#x5317;&#x4EAC;&#x5E02; &#x5317;&#x4EAC;&#x5E02;&quot;,</span><br><span class="line">        &quot;anonymity&quot;:0,</span><br><span class="line">        &quot;protocol&quot;:&quot;http&quot;,</span><br><span class="line">        &quot;isp&quot;:&quot;&#x7535;&#x4FE1;&quot;,</span><br><span class="line">        &quot;speed&quot;:375,</span><br><span class="line">        &quot;validated_at&quot;:&quot;2017-12-25 14:38:25&quot;,</span><br><span class="line">        &quot;created_at&quot;:&quot;2017-12-25 14:38:25&quot;,</span><br><span class="line">        &quot;updated_at&quot;:&quot;2017-12-25 14:38:25&quot;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h3 id="&#x83B7;&#x53D6;&#x4EE3;&#x7406;IP&#x5217;&#x8868;"><a href="#&#x83B7;&#x53D6;&#x4EE3;&#x7406;IP&#x5217;&#x8868;" class="headerlink" title="&#x83B7;&#x53D6;&#x4EE3;&#x7406;IP&#x5217;&#x8868;"></a>&#x83B7;&#x53D6;&#x4EE3;&#x7406;IP&#x5217;&#x8868;</h3><ul>
<li>URL: <a href="/external_links/3c1ac74901869920017f34e9c71e3e13.html" target="blank" rel="noopener">https://ip.jiangxianli.com/api/proxy_ips</a></li>
<li>&#x8BF7;&#x6C42;&#x53C2;&#x6570;</li>
</ul>
<table>
<thead>
<tr>
<th>&#x53C2;&#x6570;&#x540D;</th>
<th>&#x6570;&#x636E;&#x7C7B;&#x578B;</th>
<th>&#x5FC5;&#x4F20;</th>
<th>&#x8BF4;&#x660E;</th>
<th>&#x4F8B;&#x5B50;</th>
</tr>
</thead>
<tbody><tr>
<td>page</td>
<td>int</td>
<td>N</td>
<td>&#x7B2C;&#x51E0;&#x9875;</td>
<td>1</td>
</tr>
<tr>
<td>country</td>
<td>string</td>
<td>N</td>
<td>&#x6240;&#x5C5E;&#x56FD;</td>
<td>&#x4E2D;&#x56FD;,&#x7F8E;&#x56FD;</td>
</tr>
<tr>
<td>isp</td>
<td>string</td>
<td>N</td>
<td>ISP</td>
<td>&#x7535;&#x4FE1;,&#x963F;&#x91CC;&#x4E91;</td>
</tr>
<tr>
<td>order_by</td>
<td>string</td>
<td>N</td>
<td>&#x6392;&#x5E8F;&#x5B57;&#x6BB5;</td>
<td>speed:&#x54CD;&#x5E94;&#x901F;&#x5EA6;,validated_at:&#x6700;&#x65B0;&#x6821;&#x9A8C;&#x65F6;&#x95F4; created_at:&#x5B58;&#x6D3B;&#x65F6;&#x95F4;</td>
</tr>
<tr>
<td>order_rule</td>
<td>string</td>
<td>N</td>
<td>&#x6392;&#x5E8F;&#x65B9;&#x5411;</td>
<td>DESC:&#x964D;&#x5E8F; ASC:&#x5347;&#x5E8F;</td>
</tr>
</tbody></table>
<ul>
<li>&#x54CD;&#x5E94;&#x6570;&#x636E;</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">{</span><br><span class="line">    &quot;code&quot;:0,</span><br><span class="line">    &quot;msg&quot;:&quot;&#x6210;&#x529F;&quot;,</span><br><span class="line">    &quot;data&quot;:{</span><br><span class="line">        &quot;current_page&quot;:1,</span><br><span class="line">        &quot;data&quot;:[</span><br><span class="line">            {</span><br><span class="line">                &quot;unique_id&quot;:&quot;dd2aa4a97ab900ad5c7b679e445d9cde&quot;,</span><br><span class="line">                &quot;ip&quot;:&quot;119.167.153.50&quot;,</span><br><span class="line">                &quot;port&quot;:&quot;8118&quot;,</span><br><span class="line">                &quot;ip_address&quot;:&quot;&#x5C71;&#x4E1C;&#x7701; &#x9752;&#x5C9B;&#x5E02;&quot;,</span><br><span class="line">                &quot;anonymity&quot;:0,</span><br><span class="line">                &quot;protocol&quot;:&quot;http&quot;,</span><br><span class="line">                &quot;isp&quot;:&quot;&#x8054;&#x901A;&quot;,</span><br><span class="line">                &quot;speed&quot;:46,</span><br><span class="line">                &quot;validated_at&quot;:&quot;2017-12-25 15:11:05&quot;,</span><br><span class="line">                &quot;created_at&quot;:&quot;2017-12-25 15:11:05&quot;,</span><br><span class="line">                &quot;updated_at&quot;:&quot;2017-12-25 15:11:05&quot;</span><br><span class="line">            },</span><br><span class="line">            {</span><br><span class="line">                &quot;unique_id&quot;:&quot;7468e4ee73bf2be35b36221231ab02d5&quot;,</span><br><span class="line">                &quot;ip&quot;:&quot;119.5.0.42&quot;,</span><br><span class="line">                &quot;port&quot;:&quot;22&quot;,</span><br><span class="line">                &quot;ip_address&quot;:&quot;&#x56DB;&#x5DDD;&#x7701; &#x5357;&#x5145;&#x5E02;&quot;,</span><br><span class="line">                &quot;anonymity&quot;:0,</span><br><span class="line">                &quot;protocol&quot;:&quot;http&quot;,</span><br><span class="line">                &quot;isp&quot;:&quot;&#x8054;&#x901A;&quot;,</span><br><span class="line">                &quot;speed&quot;:127,</span><br><span class="line">                &quot;validated_at&quot;:&quot;2017-12-25 15:10:04&quot;,</span><br><span class="line">                &quot;created_at&quot;:&quot;2017-12-25 14:38:14&quot;,</span><br><span class="line">                &quot;updated_at&quot;:&quot;2017-12-25 15:10:04&quot;</span><br><span class="line">            }</span><br><span class="line">        ],</span><br><span class="line">        &quot;last_page&quot;:1,</span><br><span class="line">        &quot;per_page&quot;:15,</span><br><span class="line">        &quot;to&quot;:8,</span><br><span class="line">        &quot;total&quot;:8</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<h2 id="&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x9650;&#x5236;"><a href="#&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x9650;&#x5236;" class="headerlink" title="&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x9650;&#x5236;"></a>&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x9650;&#x5236;</h2><p>&#x8BF7;&#x6CE8;&#x610F;&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x4EE5;&#x53CA;&#x9632;&#x6B62;&#x65E0;&#x6548;&#x9875;&#x7684;&#x6570;&#x636E;&#x83B7;&#x53D6;&#x3002;&#x591A;&#x6B21;&#x8FDD;&#x89C4;&#x64CD;&#x4F5C;&#x8BBF;&#x95EE;&#x5C06;&#x88AB;&#x9650;&#x5236;IP&#x8BBF;&#x95EE;&#x3002;&#x5982;&#x9700;&#x89E3;&#x9664;IP&#x8BF7;&#x5728;&#x4FEE;&#x6B63;&#x64CD;&#x4F5C;&#x540E;&#xFF0C;ISSUE&#x4E2D;&#x7533;&#x8BF7;&#x89E3;&#x9664;&#x9650;&#x5236;&#x3002;</p>
<p>&#x8BE6;&#x60C5;&#x53C2;&#x89C1;:<a href="/external_links/292d5f849c4a9b39b71fc427d2a15223.html" target="blank" rel="noopener">https://github.com/jiangxianli/ProxyIpLib</a></p>
<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../14.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../14.html" itemprop="url">windows平台下一款强大的免费代理获取工具ProxyFire(烈火代理)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-14T13:37:10+08:00">
                2020-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x7B80;&#x4ECB;"><a href="#&#x7B80;&#x4ECB;" class="headerlink" title="&#x7B80;&#x4ECB;"></a>&#x7B80;&#x4ECB;</h2><p> proxyfire&#x662F;&#x4E00;&#x4E2A;&#x5F3A;&#x5927;&#x7684;&#x5728;&#x7EBF;&#x4EE3;&#x7406;&#x6536;&#x96C6;&#x548C;&#x5206;&#x7C7B;&#x5DE5;&#x5177;&#x3002;&#x5B83;&#x652F;&#x6301;http&#x3001;socks4&#x3001;socks5&#x3001;&#x96A7;&#x9053;&#x548C;ssl&#x4EE3;&#x7406;&#x9A8C;&#x8BC1;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x5C06;&#x4EE3;&#x7406;&#x5206;&#x4E3A;socks&#x4EE3;&#x7406;&#x3001;&#x8D85;&#x7EA7;&#x533F;&#x540D;&#x4EE3;&#x7406;&#x3001;&#x4E00;&#x822C;&#x533F;&#x540D;&#x4EE3;&#x7406;&#x3001;&#x900F;&#x660E;&#x4EE3;&#x7406;&#x3001;&#x7F51;&#x5173;&#x4EE3;&#x7406;&#x3002;&#x5B83;&#x5177;&#x6709;&#x5F3A;&#x5927;&#x7684;&#x8BBA;&#x575B;&#x5438;&#x6536;&#x529F;&#x80FD;&#x3001;&#x641C;&#x7D22;&#x5F15;&#x64CE;&#x5438;&#x6536;&#x529F;&#x80FD;&#x3001;&#x4EE3;&#x7406;&#x626B;&#x63CF;&#x529F;&#x80FD;&#x3002;&#x5E76;&#x5BF9;&#x4EE3;&#x7406;&#x7684;&#x67E5;&#x8BE2;&#x56FD;&#x5BB6;&#x3001;&#x4EE3;&#x7406;&#x91CD;&#x590D;&#x3001;&#x667A;&#x80FD;&#x5220;&#x9664;&#x4EE3;&#x7406;&#x6C34;&#x5370;&#x3001;&#x4EE3;&#x7406;&#x65E0;&#x5E8F;&#x7B49;&#x529F;&#x80FD;&#x8FDB;&#x884C;&#x4E86;&#x7814;&#x7A76;&#x3002;&#x9ED8;&#x8BA4;&#x8BBE;&#x7F6E;&#x53EF;&#x7528;&#x4E8E;&#x6BCF;&#x5929;&#x83B7;&#x53D6;&#x6570;&#x5343;&#x4E2A;&#x65B0;&#x7684;&#x4EE3;&#x7406;&#x5217;&#x8868; </p>
<h2 id="&#x622A;&#x56FE;"><a href="#&#x622A;&#x56FE;" class="headerlink" title="&#x622A;&#x56FE;"></a>&#x622A;&#x56FE;</h2><p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20200914134850.png" alt></p>
<p><strong>&#x672C;&#x5E16;&#x9644;&#x4EF6;</strong></p>
<p><a href="/external_links/f3b9c69db298b1753599f71002a1781e.html" target="blank" rel="noopener">&#x70B9;&#x51FB;&#x4E0B;&#x8F7D;</a></p>
<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../15.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../15.html" itemprop="url">如何判断客户端是否使用了代理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-14T09:02:40+08:00">
                2020-09-14
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x8981;&#x5224;&#x65AD;&#x5BA2;&#x6237;&#x7AEF;&#x662F;&#x5426;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5BA2;&#x6237;&#x7AEF;&#x6240;&#x53D1;&#x9001;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4FE1;&#x606F;&#x6765;&#x5224;&#x65AD;&#x3002;</p>
<p>&#x5177;&#x4F53;&#x6765;&#x8BF4;&#xFF0C;&#x5C31;&#x662F;&#x770B;HTTP_VIA&#x5B57;&#x6BB5;&#xFF0C;&#x5982;&#x679C;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x8BBE;&#x7F6E;&#x4E86;&#xFF0C;&#x8BF4;&#x660E;&#x5BA2;&#x6237;&#x7AEF;&#x4F7F;&#x7528;&#x4E86;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x3002;</p>
<p>&#x533F;&#x540D;&#x7EA7;&#x522B;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0B;&#x8868;&#x6765;&#x5224;&#x65AD;&#x3002;</p>
<p>&#x7ED9;&#x51FA;&#x4E00;&#x4E2A;&#x5E94;&#x7528;&#x4F8B;&#x5B50;&#xFF0C;&#x53EF;&#x4EE5;&#x6302;&#x4E0A;&#x4EE3;&#x7406;&#x8BD5;&#x8BD5;&#x6548;&#x679C;: <a href="/external_links/7f753f48ce2e4265ebf75bdb537af12b.html" target="blank" rel="noopener">http://ip.mixsec.org/</a></p>
<p><strong>&#x4E00;&#x3001;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;</strong>&#xFF1A;<br>   REMOTE_ADDR = &#x60A8;&#x7684; IP<br>   HTTP_VIA = &#x6CA1;&#x6570;&#x503C;&#x6216;&#x4E0D;&#x663E;&#x793A;<br>   HTTP_X_FORWARDED_FOR = &#x6CA1;&#x6570;&#x503C;&#x6216;&#x4E0D;&#x663E;&#x793A;</p>
<p><strong>&#x4E8C;&#x3001;&#x4F7F;&#x7528;&#x900F;&#x660E;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</strong>Transparent Proxies</p>
<p>  REMOTE_ADDR = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP<br>  HTTP_VIA = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP (<strong>&#x8865;&#x5145;&#xFF1A;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x7531;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x586B;&#x5145;&#xFF0C;&#x6709;&#x65F6;&#x4F1A;&#x586B;&#x5145;&#x7F51;&#x5173;&#x4FE1;&#x606F;&#x7B49;</strong>)<br>  HTTP_X_FORWARDED_FOR = &#x60A8;&#x7684;&#x771F;&#x5B9E; IP<br>  &#x8FD9;&#x7C7B;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x8FD8;&#x662F;&#x5C06;&#x60A8;&#x7684;&#x4FE1;&#x606F;&#x8F6C;&#x53D1;&#x7ED9;&#x60A8;&#x7684;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#xFF0C;&#x65E0;&#x6CD5;&#x8FBE;&#x5230;&#x9690;&#x85CF;&#x771F;&#x5B9E;&#x8EAB;&#x4EFD;&#x7684;&#x76EE;&#x7684;&#x3002;</p>
<p><strong>&#x4E09;&#x3001;&#x4F7F;&#x7528;&#x666E;&#x901A;&#x533F;&#x540D;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</strong>Anonymous Proxies<br>  REMOTE_ADDR = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP<br>  HTTP_VIA = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP (<strong>&#x8865;&#x5145;&#xFF1A;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x7531;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x586B;&#x5145;&#xFF0C;&#x6709;&#x65F6;&#x4F1A;&#x586B;&#x5145;&#x7F51;&#x5173;&#x4FE1;&#x606F;&#x7B49;</strong>)<br>  HTTP_X_FORWARDED_FOR = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP<br>  &#x9690;&#x85CF;&#x4E86;&#x60A8;&#x7684;&#x771F;&#x5B9E;IP&#xFF0C;&#x4F46;&#x662F;&#x5411;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#x900F;&#x9732;&#x4E86;&#x60A8;&#x662F;&#x4F7F;&#x7528;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x8BBF;&#x95EE;&#x4ED6;&#x4EEC;&#x7684;&#x3002;</p>
<p><strong>&#x56DB;&#x3001;&#x4F7F;&#x7528;&#x6B3A;&#x9A97;&#x6027;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</strong>Distorting Proxies<br>  REMOTE_ADDR = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP<br>  HTTP_VIA = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP (<strong>&#x8865;&#x5145;&#xFF1A;&#x8FD9;&#x4E2A;&#x5B57;&#x6BB5;&#x7531;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x586B;&#x5145;&#xFF0C;&#x6709;&#x65F6;&#x4F1A;&#x586B;&#x5145;&#x7F51;&#x5173;&#x4FE1;&#x606F;&#x7B49;</strong>)<br>  HTTP_X_FORWARDED_FOR = &#x968F;&#x673A;&#x7684; IP<br>  &#x544A;&#x8BC9;&#x4E86;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#x60A8;&#x4F7F;&#x7528;&#x4E86;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x4F46;&#x7F16;&#x9020;&#x4E86;&#x4E00;&#x4E2A;&#x865A;&#x5047;&#x7684;&#x968F;&#x673A;IP&#x4EE3;&#x66FF;&#x60A8;&#x7684;&#x771F;&#x5B9E;IP&#x6B3A;&#x9A97;&#x5B83;&#x3002;</p>
<p><strong>&#x4E94;&#x3001;&#x4F7F;&#x7528;&#x9AD8;&#x533F;&#x540D;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x60C5;&#x51B5;&#xFF1A;</strong>High Anonymity Proxies<br>  REMOTE_ADDR = &#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668; IP<br>  HTTP_VIA = &#x6CA1;&#x6570;&#x503C;&#x6216;&#x4E0D;&#x663E;&#x793A;<br>  HTTP_X_FORWARDED_FOR = &#x6CA1;&#x6570;&#x503C;&#x6216;&#x4E0D;&#x663E;&#x793A;<br>  &#x5B8C;&#x5168;&#x7528;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x7684;&#x4FE1;&#x606F;&#x66FF;&#x4EE3;&#x4E86;&#x60A8;&#x7684;&#x6240;&#x6709;&#x4FE1;&#x606F;&#xFF0C;&#x5C31;&#x8C61;&#x60A8;&#x5C31;&#x662F;&#x5B8C;&#x5168;&#x4F7F;&#x7528;&#x90A3;&#x53F0;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;&#x76F4;&#x63A5;&#x8BBF;&#x95EE;&#x5BF9;&#x8C61;&#x3002;</p>
<p>  &#x9664;&#x6B64;&#x4E4B;&#x5916;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;<a href="/external_links/e792cf1b52d263528eb5f0a3c5fb9639.html" target="blank" rel="noopener">proxy judges</a>&#x603B; &#x7ED3;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x53EF;&#x4F9B;&#x53C2;&#x8003;&#x7684;&#x5224;&#x5B9A;&#x4FE1;&#x606F;&#xFF0C;&#x4E00;&#x904D;&#x4E8E;&#x5728;&#x5B9E;&#x8DF5;&#x4E2D;&#x52A0;&#x4EE5;&#x5229;&#x7528;&#x3002;</p>
<p><strong>&#x6700;&#x540E;&#x5199;&#x4E00;&#x4E2A;php&#x4F8B;&#x5B50;,&#x4EC5;&#x4F9B;&#x5927;&#x5BB6;&#x53C2;&#x8003;:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">if(!empty($_SERVER[&apos;HTTP_VIA&apos;]))  //&#x4F7F;&#x7528;&#x4E86;&#x4EE3;&#x7406;</span><br><span class="line">{</span><br><span class="line">  if(!isset($_SERVER[&apos;HTTP_X_FORWARDED_FOR&apos;]))</span><br><span class="line">  {</span><br><span class="line">    //Anonymous Proxies  &#x666E;&#x901A;&#x533F;&#x540D;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;</span><br><span class="line"></span><br><span class="line">&#x200B;    //&#x4EE3;&#x7406;IP&#x5730;&#x5740;&#x4E3A; $_SERVER[&apos;REMOTE_ADDR&apos;]</span><br><span class="line"></span><br><span class="line">  }</span><br><span class="line">  else</span><br><span class="line">  {</span><br><span class="line">    //Transparent Proxies &#x900F;&#x660E;&#x4EE3;&#x7406;&#x670D;&#x52A1;&#x5668;</span><br><span class="line">    //&#x4EE3;&#x7406;IP&#x5730;&#x5740;&#x4E3A; $_SERVER[&apos;REMOTE_ADDR&apos;]</span><br><span class="line">    //&#x771F;&#x5B9E;ip&#x5730;&#x5740;&#x4E3A; $_SERVER[&apos;HTTP_X_FORWARDED_FOR&apos;]</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">else  //&#x6CA1;&#x6709;&#x4EE3;&#x7406;&#x6216;&#x8005;&#x662F;&#x9AD8;&#x533F;&#x540D;&#x4EE3;&#x7406;</span><br><span class="line">{</span><br><span class="line">  //&#x771F;&#x5B9E;ip&#x5730;&#x5740;&#x4E3A; $_SERVER[&apos;REMOTE_ADDR&apos;]</span><br><span class="line">}</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../20.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../20.html" itemprop="url">关于MySQL数据库基础备份</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-11T18:05:39+08:00">
                2020-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><strong>mysqldump&#x5907;&#x4EFD;</strong></p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/u=63179589,2229917185&amp;fm=173&amp;app=25&amp;f=JPEG.jpeg" alt="img"></p>
<h2 id="&#x5907;&#x4EFD;&#x547D;&#x4EE4;"><a href="#&#x5907;&#x4EFD;&#x547D;&#x4EE4;" class="headerlink" title="&#x5907;&#x4EFD;&#x547D;&#x4EE4;"></a>&#x5907;&#x4EFD;&#x547D;&#x4EE4;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801;  &#x6570;&#x636E;&#x5E93;&#x540D; &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -ppassword  cmdb &gt; /data/backup/cmdb.sql</span><br></pre></td></tr></table></figure>

<h2 id="&#x5907;&#x4EFD;&#x538B;&#x7F29;"><a href="#&#x5907;&#x4EFD;&#x538B;&#x7F29;" class="headerlink" title="&#x5907;&#x4EFD;&#x538B;&#x7F29;"></a>&#x5907;&#x4EFD;&#x538B;&#x7F29;</h2><p>&#x5BFC;&#x51FA;&#x7684;&#x6570;&#x636E;&#x6709;&#x53EF;&#x80FD;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x4E0D;&#x597D;&#x5907;&#x4EFD;&#x5230;&#x8FDC;&#x7A0B;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x538B;&#x7F29;</p>
<p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump --u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --database &#x6570;&#x636E;&#x5E93;&#x540D; | gzip &gt; &#x6587;&#x4EF6;&#x540D;.sql.gz</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump  -uroot -ppassword  cmdb | gzip &gt; /data/backup/cmdb.sql.gz</span><br></pre></td></tr></table></figure>

<h2 id="&#x5907;&#x4EFD;&#x540C;&#x4E2A;&#x5E93;&#x591A;&#x4E2A;&#x8868;"><a href="#&#x5907;&#x4EFD;&#x540C;&#x4E2A;&#x5E93;&#x591A;&#x4E2A;&#x8868;" class="headerlink" title="&#x5907;&#x4EFD;&#x540C;&#x4E2A;&#x5E93;&#x591A;&#x4E2A;&#x8868;"></a>&#x5907;&#x4EFD;&#x540C;&#x4E2A;&#x5E93;&#x591A;&#x4E2A;&#x8868;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --database &#x6570;&#x636E;&#x5E93;&#x540D; &#x8868;1 &#x8868;2 .... &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982; :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -ppassword cmdb t1 t2 &gt; /data/backup/cmdb_t1_t2.sql</span><br></pre></td></tr></table></figure>

<h2 id="&#x540C;&#x65F6;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x5E93;"><a href="#&#x540C;&#x65F6;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x5E93;" class="headerlink" title="&#x540C;&#x65F6;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x5E93;"></a>&#x540C;&#x65F6;&#x5907;&#x4EFD;&#x591A;&#x4E2A;&#x5E93;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --databases &#x6570;&#x636E;&#x5E93;&#x540D;1 &#x6570;&#x636E;&#x5E93;&#x540D;2 &#x6570;&#x636E;&#x5E93;&#x540D;3 &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump  -uroot -ppassword --databases cmdb bbs blog &gt; /data/backup/mutil_db.sql</span><br></pre></td></tr></table></figure>

<h2 id="&#x5907;&#x4EFD;&#x5B9E;&#x4F8B;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;"><a href="#&#x5907;&#x4EFD;&#x5B9E;&#x4F8B;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x5907;&#x4EFD;&#x5B9E;&#x4F8B;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;"></a>&#x5907;&#x4EFD;&#x5B9E;&#x4F8B;&#x4E0A;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x5E93;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --all-databases &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -ppassword --all-databases &gt; /data/backup/all_db.sql</span><br></pre></td></tr></table></figure>

<h2 id="&#x5907;&#x4EFD;&#x6570;&#x636E;&#x51FA;&#x5E26;&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x6216;&#x8005;&#x8868;&#x7684;sql&#x5907;&#x4EFD;"><a href="#&#x5907;&#x4EFD;&#x6570;&#x636E;&#x51FA;&#x5E26;&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x6216;&#x8005;&#x8868;&#x7684;sql&#x5907;&#x4EFD;" class="headerlink" title="&#x5907;&#x4EFD;&#x6570;&#x636E;&#x51FA;&#x5E26;&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x6216;&#x8005;&#x8868;&#x7684;sql&#x5907;&#x4EFD;"></a>&#x5907;&#x4EFD;&#x6570;&#x636E;&#x51FA;&#x5E26;&#x5220;&#x9664;&#x6570;&#x636E;&#x5E93;&#x6216;&#x8005;&#x8868;&#x7684;sql&#x5907;&#x4EFD;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --add-drop-table --add-drop-database &#x6570;&#x636E;&#x5E93;&#x540D; &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -uroot -ppassword --add-drop-table --add-drop-database cmdb &gt; /data/backup/all_db.sql</span><br></pre></td></tr></table></figure>

<h2 id="&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#xFF0C;&#x4E0D;&#x5907;&#x4EFD;&#x6570;&#x636E;"><a href="#&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#xFF0C;&#x4E0D;&#x5907;&#x4EFD;&#x6570;&#x636E;" class="headerlink" title="&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#xFF0C;&#x4E0D;&#x5907;&#x4EFD;&#x6570;&#x636E;"></a>&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5E93;&#x7ED3;&#x6784;&#xFF0C;&#x4E0D;&#x5907;&#x4EFD;&#x6570;&#x636E;</h2><p>&#x683C;&#x5F0F;&#xFF1A;<code>mysqldump  -u&#x7528;&#x6237;&#x540D; -p&#x5BC6;&#x7801; --no-data &#x6570;&#x636E;&#x5E93;&#x540D;1 &#x6570;&#x636E;&#x5E93;&#x540D;2 &#x6570;&#x636E;&#x5E93;&#x540D;3 &gt; &#x6587;&#x4EF6;&#x540D;.sql</code></p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump --no-data &#x2013;databases db1 db2 cmdb &gt; /data/backup/structure.sql</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../37.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../37.html" itemprop="url">python连接MySql数据库</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-11T17:18:33+08:00">
                2020-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&#x7531;&#x4E8E; MySQLdb &#x6A21;&#x5757;&#x8FD8;&#x4E0D;&#x652F;&#x6301; Python3.x&#xFF0C;&#x6240;&#x4EE5; Python3.x &#x5982;&#x679C;&#x60F3;&#x8FDE;&#x63A5;MySQL&#x9700;&#x8981;&#x5B89;&#x88C5; pymysql &#x6A21;&#x5757;&#x3002;</p>
<p>pymysql &#x6A21;&#x5757;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; pip &#x5B89;&#x88C5;&#x3002;&#x4F46;&#x5982;&#x679C;&#x4F60;&#x4F7F;&#x7528;&#x7684;&#x662F; pycharm IDE&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; project python &#x5B89;&#x88C5;&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;&#x3002;</p>
<p>[<strong>File</strong>] &gt;&gt; [<strong>settings</strong>] &gt;&gt; [<strong>Project: python</strong>] &gt;&gt; [<strong>Project Interpreter</strong>] &gt;&gt; [<strong>Install&#x6309;&#x94AE;</strong>]</p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/875028-20161002000403750-123452875.png" alt="img"></p>
<p>&#x7531;&#x4E8E;Python&#x7EDF;&#x4E00;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x6240;&#x4EE5; pymysql &#x548C; MySQLdb &#x5728;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0A;&#x662F;&#x7C7B;&#x4F3C;&#x7684;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;</span><br><span class="line">pymysql.Connect()&#x53C2;&#x6570;&#x8BF4;&#x660E;</span><br><span class="line">host(str):      MySQL&#x670D;&#x52A1;&#x5668;&#x5730;&#x5740;</span><br><span class="line">port(int):      MySQL&#x670D;&#x52A1;&#x5668;&#x7AEF;&#x53E3;&#x53F7;</span><br><span class="line">user(str):      &#x7528;&#x6237;&#x540D;</span><br><span class="line">passwd(str):    &#x5BC6;&#x7801;</span><br><span class="line">db(str):        &#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;</span><br><span class="line">charset(str):   &#x8FDE;&#x63A5;&#x7F16;&#x7801;&#xFF0C;&#x5B58;&#x5728;&#x4E2D;&#x6587;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FDE;&#x63A5;&#x9700;&#x8981;&#x6DFB;&#x52A0;charset=&apos;utf8&apos;&#xFF0C;&#x5426;&#x5219;&#x4E2D;&#x6587;&#x663E;&#x793A;&#x4E71;&#x7801;&#x3002;</span><br><span class="line"></span><br><span class="line">connection&#x5BF9;&#x8C61;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;</span><br><span class="line">cursor()        &#x4F7F;&#x7528;&#x8BE5;&#x8FDE;&#x63A5;&#x521B;&#x5EFA;&#x5E76;&#x8FD4;&#x56DE;&#x6E38;&#x6807;</span><br><span class="line">commit()        &#x63D0;&#x4EA4;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#xFF0C;&#x4E0D;&#x7136;&#x65E0;&#x6CD5;&#x4FDD;&#x5B58;&#x65B0;&#x5EFA;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x7684;&#x6570;&#x636E;</span><br><span class="line">rollback()      &#x56DE;&#x6EDA;&#x5F53;&#x524D;&#x4E8B;&#x52A1;</span><br><span class="line">close()         &#x5173;&#x95ED;&#x8FDE;&#x63A5;</span><br><span class="line"></span><br><span class="line">cursor&#x5BF9;&#x8C61;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;</span><br><span class="line">execute(op)     &#x6267;&#x884C;SQL&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x53D7;&#x5F71;&#x54CD;&#x884C;&#x6570;</span><br><span class="line">fetchone()      &#x53D6;&#x5F97;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x4E0B;&#x4E00;&#x884C;</span><br><span class="line">fetchmany(size) &#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#x7684;&#x4E0B;&#x51E0;&#x884C;</span><br><span class="line">fetchall()      &#x83B7;&#x53D6;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x884C;</span><br><span class="line">rowcount()      &#x8FD4;&#x56DE;&#x6570;&#x636E;&#x6761;&#x6570;&#x6216;&#x5F71;&#x54CD;&#x884C;&#x6570;</span><br><span class="line">close()         &#x5173;&#x95ED;&#x6E38;&#x6807;&#x5BF9;&#x8C61;</span><br></pre></td></tr></table></figure>



<p>==================<strong>MySQL</strong>===================</p>
<p>&#x9996;&#x5148;&#x5728;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x4E4B;&#x524D;&#xFF0C;&#x5148;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x4EA4;&#x6613;&#x8868;&#xFF0C;&#x65B9;&#x4FBF;&#x6D4B;&#x8BD5; pymysql &#x7684;&#x529F;&#x80FD;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS trade;</span><br><span class="line"></span><br><span class="line">CREATE TABLE trade (</span><br><span class="line">  id int(4) unsigned NOT NULL AUTO_INCREMENT,</span><br><span class="line">  name varchar(6) NOT NULL COMMENT &apos;&#x7528;&#x6237;&#x771F;&#x5B9E;&#x59D3;&#x540D;&apos;,</span><br><span class="line">  account varchar(15) NOT NULL COMMENT &apos;&#x94F6;&#x884C;&#x50A8;&#x84C4;&#x8D26;&#x53F7;&apos;,</span><br><span class="line">  saving decimal(8,2) unsigned NOT NULL DEFAULT &apos;0.00&apos; COMMENT &apos;&#x8D26;&#x6237;&#x50A8;&#x84C4;&#x91D1;&#x989D;&apos;,</span><br><span class="line">  expend decimal(8,2) unsigned NOT NULL DEFAULT &apos;0.00&apos; COMMENT &apos;&#x8D26;&#x6237;&#x652F;&#x51FA;&#x603B;&#x8BA1;&apos;,</span><br><span class="line">  income decimal(8,2) unsigned NOT NULL DEFAULT &apos;0.00&apos; COMMENT &apos;&#x8D26;&#x6237;&#x6536;&#x5165;&#x603B;&#x8BA1;&apos;,</span><br><span class="line">  PRIMARY KEY (id),</span><br><span class="line">  UNIQUE KEY name_UNIQUE (name)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=2 DEFAULT CHARSET=utf8;</span><br><span class="line">INSERT INTO trade VALUES (1,&apos;&#x4E54;&#x5E03;&#x65AF;&apos;,&apos;18012345678&apos;,0.00,0.00,0.00);</span><br></pre></td></tr></table></figure>



<p>==================<strong>Python</strong>===================</p>
<p>&#x4F7F;&#x7528;Python&#x811A;&#x672C;&#x5B9E;&#x73B0;&#x589E;&#x5220;&#x6539;&#x67E5;&#x548C;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#xFF0C;&#x6E90;&#x7801;&#x5982;&#x4E0B;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">import pymysql.cursors</span><br><span class="line"></span><br><span class="line"># &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</span><br><span class="line">connect = pymysql.Connect(</span><br><span class="line">    host=&apos;localhost&apos;,</span><br><span class="line">    port=3310,</span><br><span class="line">    user=&apos;woider&apos;,</span><br><span class="line">    passwd=&apos;3243&apos;,</span><br><span class="line">    db=&apos;python&apos;,</span><br><span class="line">    charset=&apos;utf8&apos;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"># &#x83B7;&#x53D6;&#x6E38;&#x6807;</span><br><span class="line">cursor = connect.cursor()</span><br><span class="line"></span><br><span class="line"># &#x63D2;&#x5165;&#x6570;&#x636E;</span><br><span class="line">sql = &quot;INSERT INTO trade (name, account, saving) VALUES ( &apos;%s&apos;, &apos;%s&apos;, %.2f )&quot;</span><br><span class="line">data = (&apos;&#x96F7;&#x519B;&apos;, &apos;13512345678&apos;, 10000)</span><br><span class="line">cursor.execute(sql % data)</span><br><span class="line">connect.commit()</span><br><span class="line">print(&apos;&#x6210;&#x529F;&#x63D2;&#x5165;&apos;, cursor.rowcount, &apos;&#x6761;&#x6570;&#x636E;&apos;)</span><br><span class="line"></span><br><span class="line"># &#x4FEE;&#x6539;&#x6570;&#x636E;</span><br><span class="line">sql = &quot;UPDATE trade SET saving = %.2f WHERE account = &apos;%s&apos; &quot;</span><br><span class="line">data = (8888, &apos;13512345678&apos;)</span><br><span class="line">cursor.execute(sql % data)</span><br><span class="line">connect.commit()</span><br><span class="line">print(&apos;&#x6210;&#x529F;&#x4FEE;&#x6539;&apos;, cursor.rowcount, &apos;&#x6761;&#x6570;&#x636E;&apos;)</span><br><span class="line"></span><br><span class="line"># &#x67E5;&#x8BE2;&#x6570;&#x636E;</span><br><span class="line">sql = &quot;SELECT name,saving FROM trade WHERE account = &apos;%s&apos; &quot;</span><br><span class="line">data = (&apos;13512345678&apos;,)</span><br><span class="line">cursor.execute(sql % data)</span><br><span class="line">for row in cursor.fetchall():</span><br><span class="line">    print(&quot;Name:%s\tSaving:%.2f&quot; % row)</span><br><span class="line">print(&apos;&#x5171;&#x67E5;&#x627E;&#x51FA;&apos;, cursor.rowcount, &apos;&#x6761;&#x6570;&#x636E;&apos;)</span><br><span class="line"></span><br><span class="line"># &#x5220;&#x9664;&#x6570;&#x636E;</span><br><span class="line">sql = &quot;DELETE FROM trade WHERE account = &apos;%s&apos; LIMIT %d&quot;</span><br><span class="line">data = (&apos;13512345678&apos;, 1)</span><br><span class="line">cursor.execute(sql % data)</span><br><span class="line">connect.commit()</span><br><span class="line">print(&apos;&#x6210;&#x529F;&#x5220;&#x9664;&apos;, cursor.rowcount, &apos;&#x6761;&#x6570;&#x636E;&apos;)</span><br><span class="line"></span><br><span class="line"># &#x4E8B;&#x52A1;&#x5904;&#x7406;</span><br><span class="line">sql_1 = &quot;UPDATE trade SET saving = saving + 1000 WHERE account = &apos;18012345678&apos; &quot;</span><br><span class="line">sql_2 = &quot;UPDATE trade SET expend = expend + 1000 WHERE account = &apos;18012345678&apos; &quot;</span><br><span class="line">sql_3 = &quot;UPDATE trade SET income = income + 2000 WHERE account = &apos;18012345678&apos; &quot;</span><br><span class="line"></span><br><span class="line">try:</span><br><span class="line">    cursor.execute(sql_1)  # &#x50A8;&#x84C4;&#x589E;&#x52A0;1000</span><br><span class="line">    cursor.execute(sql_2)  # &#x652F;&#x51FA;&#x589E;&#x52A0;1000</span><br><span class="line">    cursor.execute(sql_3)  # &#x6536;&#x5165;&#x589E;&#x52A0;2000</span><br><span class="line">except Exception as e:</span><br><span class="line">    connect.rollback()  # &#x4E8B;&#x52A1;&#x56DE;&#x6EDA;</span><br><span class="line">    print(&apos;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x5931;&#x8D25;&apos;, e)</span><br><span class="line">else:</span><br><span class="line">    connect.commit()  # &#x4E8B;&#x52A1;&#x63D0;&#x4EA4;</span><br><span class="line">    print(&apos;&#x4E8B;&#x52A1;&#x5904;&#x7406;&#x6210;&#x529F;&apos;, cursor.rowcount)</span><br><span class="line"></span><br><span class="line"># &#x5173;&#x95ED;&#x8FDE;&#x63A5;</span><br><span class="line">cursor.close()</span><br><span class="line">connect.close()[![&#x590D;&#x5236;&#x4EE3;&#x7801;](https://common.cnblogs.com/images/copycode.gif)</span><br></pre></td></tr></table></figure>

<p>==================<strong>&#x6D4B;&#x8BD5;&#x7ED3;&#x679C;</strong>===================</p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/875028-20161002001957094-148578946.png" alt="img"></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../24.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../24.html" itemprop="url">Django博客开发之将文章html内容写入数据库遇到的坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-11T14:01:52+08:00">
                2020-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x5751;1-Python&#x64CD;&#x4F5C;mysql&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;pymysql-err-ProgrammingError-1064-&#x201C;You-have-an-error-in-your-SQL-syntax"><a href="#&#x5751;1-Python&#x64CD;&#x4F5C;mysql&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;pymysql-err-ProgrammingError-1064-&#x201C;You-have-an-error-in-your-SQL-syntax" class="headerlink" title="&#x5751;1: Python&#x64CD;&#x4F5C;mysql&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;pymysql.err.ProgrammingError: (1064, &#x201C;You have an error in your SQL syntax;"></a>&#x5751;1: Python&#x64CD;&#x4F5C;mysql&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;pymysql.err.ProgrammingError: (1064, &#x201C;You have an error in your SQL syntax;</h2><p>&#x4E0B;&#x9762;&#x4E3A;python&#x4E2D;&#x505A;mysql&#x6570;&#x636E;&#x5E93;&#x63D2;&#x5165;&#x6570;&#x636E;&#x4EE3;&#x7801;&#x64CD;&#x4F5C;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import pymysql.cursors</span><br><span class="line"></span><br><span class="line">    # &#x5FAA;&#x73AF;&#x5165;&#x5E93;&#x64CD;&#x4F5C;</span><br><span class="line">    for ll in range(0, len(wallPaperBeanList)):</span><br><span class="line">        # &#x8FDE;&#x63A5;MySQL&#x6570;&#x636E;&#x5E93;</span><br><span class="line">        connection = pymysql.connect(host=&apos;127.0.0.1&apos;, port=3306, user=&apos;ad&apos;, password=&apos;ad&apos;, db=&apos;AllThingArePower&apos;,</span><br><span class="line">                                     charset=&apos;utf8mb4&apos;, cursorclass=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line">        # &#x901A;&#x8FC7;cursor&#x521B;&#x5EFA;&#x6E38;&#x6807;</span><br><span class="line">        cursor = connection.cursor()</span><br><span class="line">        insert_sql = &quot;INSERT INTO &apos;wallpaper&apos; (&apos;category&apos;,&apos;view_img&apos;,&apos;img&apos;,&apos;created_time&apos;,&apos;img_tag&apos;) VALUES (&quot;+ wallPaperBeanList[ll].category +&apos;,&apos;+wallPaperBeanList[ll].view_img +&apos;,&apos;+wallPaperBeanList[ll].img +&apos;,&apos;+wallPaperBeanList[ll].created_time +&apos;,&apos;+&apos;null&apos; +&apos;)&apos;</span><br><span class="line"></span><br><span class="line">        # print(&apos;category==&apos; + wallPaperBeanList[ll].category + &apos;;view_img==&apos; + str(</span><br><span class="line">        #     wallPaperBeanList[ll].view_img) + &apos;;img==&apos; + str(wallPaperBeanList[ll].img) + &apos;;created_time==&apos; + str(wallPaperBeanList[ll].created_time) + &apos;;img_tag==&apos; + str(wallPaperBeanList[ll].img_tag))</span><br><span class="line">        cursor.execute(insert_sql)</span><br><span class="line"></span><br><span class="line">        # &#x63D0;&#x4EA4;SQL</span><br><span class="line">        connection.commit()</span><br><span class="line">        # &#x5173;&#x95ED;&#x6570;&#x636E;&#x8FDE;&#x63A5;</span><br><span class="line">        connection.close()</span><br><span class="line"></span><br><span class="line">12345678910111213141516171819202122</span><br></pre></td></tr></table></figure>

<p>&#x8FD0;&#x884C;&#x540E;&#x5C31;&#x51FA;&#x73B0;&#x4E86;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#xFF0C;&#x4E0B;&#x9762;&#x8D34;&#x4E0B;&#x5B8C;&#x6574;&#x7684;&#x5F02;&#x5E38;&#x65E5;&#x5FD7;&#x4FE1;&#x606F;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pymysql.err.ProgrammingError: (1064, &quot;You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near &apos;&apos;wallpaper&apos; (&apos;category&apos;,&apos;view_img&apos;,&apos;img&apos;,&apos;created_time&apos;,&apos;img_tag&apos;) VALUES (Origi&apos; at line 1&quot;)1</span><br></pre></td></tr></table></figure>

<p>&#x6B63;&#x5E38;&#x6587;&#x672C;&#x6CA1;&#x6709;&#x95EE;&#x9898; &#x552F;&#x72EC;html&#x6587;&#x672C;&#x62A5;&#x9519;,&#x521A;&#x5F00;&#x59CB;&#x6211;&#x4E00;&#x76F4;&#x4EE5;&#x4E3A;&#x662F;mysql&#x8BED;&#x6CD5;&#x6709;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x627E;&#x6765;&#x627E;&#x53BB;&#x59CB;&#x7EC8;&#x6CA1;&#x6709;&#x627E;&#x5230;&#x53EF;&#x4EE5;&#x6539;&#x52A8;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x767E;&#x5EA6;&#x540E;&#x7F51;&#x4E0A;&#x6709;&#x535A;&#x5BA2;&#x8BB2;mysql&#x8BED;&#x53E5;&#x62FC;&#x63A5;&#x7684;&#x65F6;&#x5019;&#x91CC;&#x9762;&#x53EF;&#x80FD;&#x6709;&#x53C2;&#x6570;&#x6709;&#x53CC;&#x5F15;&#x53F7;&#x5BFC;&#x81F4;&#x7684;&#xFF0C;&#x4F7F;&#x7528;pymysql.escape_string()&#x65B9;&#x6CD5;&#x628A;&#x6709;&#x53CC;&#x5F15;&#x53F7;&#x7684;&#x53C2;&#x6570;&#x5904;&#x7406;&#x4E00;&#x4E0B;&#x5C31;&#x884C;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B9;&#x6848;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x4E86;&#x6211;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x540E;&#x6765;&#x627E;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x6BD4;&#x8F83;&#x597D;&#x7684;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF0C;&#x5C31;&#x662F;&#x4E0D;&#x8981;&#x7528;%&#x6216;&#x8005;+&#x64CD;&#x4F5C;&#x7B26;&#x6765;&#x62FC;&#x63A5;SQL&#x8BED;&#x53E5;&#xFF0C;&#x5E94;&#x8BE5;&#x4F7F;&#x7528;&#x5360;&#x4F4D;&#x7B26;&#x3002;&#x5373;execute&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x3002;</p>
<p>&#x4FEE;&#x6539;&#x540E;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import pymysql.cursors</span><br><span class="line"></span><br><span class="line">    # &#x5FAA;&#x73AF;&#x5165;&#x5E93;&#x64CD;&#x4F5C;</span><br><span class="line">    for ll in range(0, len(wallPaperBeanList)):</span><br><span class="line">        # &#x8FDE;&#x63A5;MySQL&#x6570;&#x636E;&#x5E93;</span><br><span class="line">        connection = pymysql.connect(host=&apos;127.0.0.1&apos;, port=3306, user=&apos;ad&apos;, password=&apos;ad&apos;, db=&apos;AllThingArePower&apos;,</span><br><span class="line">                                     charset=&apos;utf8mb4&apos;, cursorclass=pymysql.cursors.DictCursor)</span><br><span class="line"></span><br><span class="line">        # &#x901A;&#x8FC7;cursor&#x521B;&#x5EFA;&#x6E38;&#x6807;</span><br><span class="line">        cursor = connection.cursor()</span><br><span class="line">                cursor.execute(&apos;insert into wallpaper (category,view_img,img,created_time,img_tag) values (%s,%s,%s,%s,%s)&apos;, (str(wallPaperBeanList[ll].category), str(</span><br><span class="line">            wallPaperBeanList[ll].view_img),str(wallPaperBeanList[ll].img),str(wallPaperBeanList[ll].created_time),str(wallPaperBeanList[ll].img_tag)))</span><br><span class="line"></span><br><span class="line">        # &#x63D0;&#x4EA4;SQL</span><br><span class="line">        connection.commit()</span><br><span class="line">        # &#x5173;&#x95ED;&#x6570;&#x636E;&#x8FDE;&#x63A5;</span><br></pre></td></tr></table></figure>

<h2 id="&#x5751;2-&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x9014;&#x51FA;&#x73B0;-Mysql&#x5931;&#x8D25;&#xFF0C;&#x5F02;&#x5E38;pymysql-err-InternalError-1366-&#x201C;Incorrect-string-value-&#x2018;-xF0-x9D-x90-xBF-&#x2026;&#x2026;"><a href="#&#x5751;2-&#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x9014;&#x51FA;&#x73B0;-Mysql&#x5931;&#x8D25;&#xFF0C;&#x5F02;&#x5E38;pymysql-err-InternalError-1366-&#x201C;Incorrect-string-value-&#x2018;-xF0-x9D-x90-xBF-&#x2026;&#x2026;" class="headerlink" title="&#x5751;2: &#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x9014;&#x51FA;&#x73B0;: Mysql&#x5931;&#x8D25;&#xFF0C;&#x5F02;&#x5E38;pymysql.err.InternalError: (1366, &#x201C;Incorrect string value: &#x2018;\xF0\x9D\x90\xBF;&#x2026;&#x2026;"></a>&#x5751;2: &#x5199;&#x5165;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x9014;&#x51FA;&#x73B0;: Mysql&#x5931;&#x8D25;&#xFF0C;&#x5F02;&#x5E38;pymysql.err.InternalError: (1366, &#x201C;Incorrect string value: &#x2018;\xF0\x9D\x90\xBF;&#x2026;&#x2026;</h2><h4 id="&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF1A;"><a href="#&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF1A;" class="headerlink" title="&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF1A;"></a>&#x95EE;&#x9898;&#x63CF;&#x8FF0;&#xFF1A;</h4><p>&#x3000;&#x3000;&#x63D2;&#x5165;Mysql&#x65F6;&#x5931;&#x8D25;&#x4E86;&#xFF0C;python&#x4EE3;&#x7801;&#x62A5;&#x5982;&#x4E0B;&#x5F02;&#x5E38;&#xFF1A;</p>
<p>&#x3000;&#x3000;pymysql.err.InternalError: (1366, &#x201C;Incorrect string value: &#x2018;\xF0\x9D\x90\xBF;&#x2026;&#x2026;</p>
<h4 id="&#x539F;&#x56E0;&#x5206;&#x6790;&#xFF1A;"><a href="#&#x539F;&#x56E0;&#x5206;&#x6790;&#xFF1A;" class="headerlink" title="&#x539F;&#x56E0;&#x5206;&#x6790;&#xFF1A;"></a>&#x539F;&#x56E0;&#x5206;&#x6790;&#xFF1A;</h4><p>&#x3000;&#x3000;UTF-8&#x7F16;&#x7801;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x4E24;&#x4E2A;&#x3001;&#x4E09;&#x4E2A;&#x3001;&#x56DB;&#x4E2A;&#x5B57;&#x8282;&#x3002;Emoji&#x8868;&#x60C5;&#x662F;4&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x800C;Mysql&#x7684;utf8&#x7F16;&#x7801;&#x6700;&#x591A;3&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x6240;&#x4EE5;&#x6570;&#x636E;&#x63D2;&#x4E0D;&#x8FDB;&#x53BB;&#x3002;</p>
<h4 id="&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;"><a href="#&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;" class="headerlink" title="&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;"></a>&#x89E3;&#x51B3;&#x65B9;&#x6848;&#xFF1A;</h4><p>&#x3000;&#x3000;&#x4FEE;&#x6539;Mysql&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x548C;Pymysql&#x8FDE;&#x63A5;&#x5E93;&#x65F6;&#x7684;&#x5B57;&#x7B26;&#x96C6;&#x3002;</p>
<h3 id="1&#x3001;&#x4FEE;&#x6539;Mysql&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;"><a href="#1&#x3001;&#x4FEE;&#x6539;Mysql&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;" class="headerlink" title="&#x3000;&#x3000;1&#x3001;&#x4FEE;&#x6539;Mysql&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;"></a>&#x3000;&#x3000;1&#x3001;&#x4FEE;&#x6539;Mysql&#x8868;&#x7684;&#x5B57;&#x7B26;&#x96C6;</h3><p>&#x3000;&#x3000;&#x3000;&#x3000;&#x8BF4;&#x660E;&#xFF1A;&#x5C06;&#x5DF2;&#x7ECF;&#x5EFA;&#x597D;&#x7684;&#x8868;&#x5B57;&#x7B26;&#x96C6;&#x8F6C;&#x6539;&#x6210; utf8mb4&#xFF0C;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x6539;&#x4E3A; utf8mb4_bin</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;&#x3000;&#x547D;&#x4EE4;&#xFF1A;alter table TABLE_NAME convert to character set utf8mb4 collate utf8mb4_bin; &#xFF08;&#x5C06;TABLE_NAME&#x66FF;&#x6362;&#x6210;&#x4F60;&#x7684;&#x8868;&#x540D;&#xFF09;</span><br></pre></td></tr></table></figure>

<p>&#x3000;&#x3000;&#x3000;&#x3000;&#x6CE8;&#x610F;&#xFF1A;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x4E0D;&#x662F; utf8mb4_general_ci&#xFF0C;&#x800C;&#x662F;utf8mb4_bin&#xFF0C;&#x4E0D;&#x8981;&#x60F3;&#x5F53;&#x7136;</p>
<h3 id="2&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x5B57;&#x7B26;&#x96C6;"><a href="#2&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x5B57;&#x7B26;&#x96C6;" class="headerlink" title="&#x3000;&#x3000;2&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x5B57;&#x7B26;&#x96C6;   &#x3000;&#x3000;"></a>&#x3000;&#x3000;2&#x3001;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x7684;&#x5B57;&#x7B26;&#x96C6;   &#x3000;&#x3000;</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;conn = pymysql.connect(host=&apos;localhost&apos;, user=&apos;root&apos;, password=&apos;root&apos;, port=3306, db=&apos;cncb&apos;, charset=&apos;utf8mb4&apos;)</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../29.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../29.html" itemprop="url">如何将python采集到的文章保存到wordpress</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-11T11:03:52+08:00">
                2020-09-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h3><p><code>wordpress</code>&#x7B97;&#x662F;&#x6BD4;&#x8F83;&#x6D41;&#x884C;&#x7684;&#x535A;&#x5BA2;&#x7F51;&#x7AD9;&#x6846;&#x67B6;, &#x6211;&#x672C;&#x4EBA;&#x4E5F;&#x4E00;&#x76F4;&#x5728;&#x4F7F;&#x7528;, &#x5173;&#x4E8E;<code>python</code>&#x91C7;&#x96C6;&#x6587;&#x7AE0;&#x7684;&#x4E0A;&#x4F20;, &#x6709;&#x4EE5;&#x4E0B;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;:</p>
<ol>
<li><strong>&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;</strong></li>
<li><strong>&#x4F7F;&#x7528;<code>wordpress</code>&#x7684;<code>rest api</code></strong></li>
<li><strong>&#x4F7F;&#x7528;<code>wordpress_xmlrpc</code>&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;</strong></li>
</ol>
<p>&#x5176;&#x4E2D;&#x7B2C;&#x4E09;&#x79CD;&#x7684;&#x4F53;&#x9A8C;&#x6700;&#x4E3A;&#x8212;&#x9002;, &#x5BF9;&#x65B0;&#x624B;&#x53CB;&#x597D;, &#x63A8;&#x8350;&#x4F7F;&#x7528;</p>
<p>&#x597D;&#x4E86; &#x63A5;&#x4E0B;&#x6765;&#x6328;&#x4E2A;&#x4ECB;&#x7ECD;&#x4E00;&#x4E0B;&#x8FD9;&#x51E0;&#x79CD;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;</p>
<h3 id="&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;"><a href="#&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;" class="headerlink" title="&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;"></a>&#x76F4;&#x63A5;&#x64CD;&#x4F5C;&#x6570;&#x636E;&#x5E93;</h3><p>&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;<code>python</code>&#x7684;<code>pymysql</code>&#x5E93;&#x8FDB;&#x884C;<code>mysql</code>&#x6570;&#x636E;&#x5E93;&#x7684;&#x76F4;&#x8FDE;&#x64CD;&#x4F5C;, &#x5177;&#x4F53;&#x4E0D;&#x8FC7;&#x591A;&#x4ECB;&#x7ECD;, &#x76F4;&#x63A5;&#x4E0A;&#x793A;&#x4F8B;&#x4EE3;&#x7801;:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql.cursors</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;</span></span><br><span class="line">connect = pymysql.Connect(</span><br><span class="line">    host=<span class="string">&apos;&#x6570;&#x636E;&#x5E93;IP&apos;</span>,</span><br><span class="line">    port=<span class="number">3306</span>,</span><br><span class="line">    user=<span class="string">&apos;root&apos;</span>,</span><br><span class="line">    passwd=<span class="string">&apos;xxxx&apos;</span>,</span><br><span class="line">    db=<span class="string">&apos;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&apos;</span>,</span><br><span class="line">    charset=<span class="string">&apos;utf8mb4&apos;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x83B7;&#x53D6;&#x6E38;&#x6807;</span></span><br><span class="line">cursor = connect.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># &#x63D2;&#x5165;&#x6570;&#x636E;</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert</span><span class="params">(post_author, post_date, post_date_gmt,post_content,post_title,post_status,comment_status,ping_status,post_type,menu_order,post_excerpt,to_ping)</span>:</span></span><br><span class="line">    cursor.execute(<span class="string">&apos;INSERT INTO wp_posts (post_author, post_date, post_date_gmt,post_content,post_title,post_status,comment_status,ping_status,post_type,menu_order,post_excerpt)VALUES ( %d, %s,%s, %s,%s, %s,%s, %s,%s,%s, %s, %s)&apos;</span>, (<span class="number">1</span>, post_date, post_date_gmt,post_content,post_title,post_status,comment_status,ping_status,post_type,menu_order,post_excerpt,to_ping))</span><br><span class="line"></span><br><span class="line">    connect.commit()</span><br><span class="line">    print(<span class="string">&apos;&#x6210;&#x529F;&#x63D2;&#x5165;&apos;</span>, cursor.rowcount, <span class="string">&apos;&#x6761;&#x6570;&#x636E;&apos;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="&#x4F7F;&#x7528;wordpress&#x7684;rest-api"><a href="#&#x4F7F;&#x7528;wordpress&#x7684;rest-api" class="headerlink" title="&#x4F7F;&#x7528;wordpress&#x7684;rest api"></a>&#x4F7F;&#x7528;wordpress&#x7684;rest api</h3><p>&#x5173;&#x4E8E;<code>rest api</code>&#x5B98;&#x65B9;&#x6587;&#x6863;&#x5982;&#x4E0B;:</p>
<p><a href="/external_links/589e61abc9e5b7f4f2db0a26b0c094fc.html" target="blank" rel="noopener">https://developer.wordpress.org/rest-api/</a></p>
<p><strong>&#x6211;&#x4EEC;&#x5148;&#x8BD5;&#x4E00;&#x4E0B;api&#x7684;&#x5A01;&#x529B; &#x683C;&#x5F0F;&#x4E3A;</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://{&#x57DF;&#x540D;}/index.php/wp-json/wp/v2/posts</span><br></pre></td></tr></table></figure>

<p>&#x6BD4;&#x5982;:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://www.jhcms.net/index.php/wp-json/wp/v2/posts</span><br></pre></td></tr></table></figure>

<p>&#x6211;&#x4EEC;&#x80FD;&#x770B;&#x5230;&#x51E0;&#x4E4E;&#x5927;&#x90E8;&#x5206;&#x6587;&#x7AE0;&#x7684;&#x4FE1;&#x606F;</p>
<p><strong>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x6587;&#x7AE0;</strong></p>
<p>&#x6211;&#x4EEC;&#x53C2;&#x8003;&#x5B98;&#x65B9;&#x6587;&#x6863; <a href="/external_links/27af45d5bf65f2443ab2d1e96e683a88.html" target="blank" rel="noopener">https://developer.wordpress.org/rest-api/reference/posts/#create-a-post</a></p>
<p>&#x5F97;&#x5230;&#x91CD;&#x8981;&#x4FE1;&#x606F;&#x5982;&#x4E0B;:</p>
<h2 id="&#x53C2;&#x6570;"><a href="#&#x53C2;&#x6570;" class="headerlink" title="&#x53C2;&#x6570;"></a>&#x53C2;&#x6570;</h2><table>
<thead>
<tr>
<th><code>date</code></th>
<th>The date the object was published, in the site&#x2019;s timezone.</th>
</tr>
</thead>
<tbody><tr>
<td><code>date_gmt</code></td>
<td>The date the object was published, as GMT.</td>
</tr>
<tr>
<td><code>slug</code></td>
<td>An alphanumeric identifier for the object unique to its type.</td>
</tr>
<tr>
<td><code>status</code></td>
<td>A named status for the object. One of: <code>publish</code>, <code>future</code>, <code>draft</code>, <code>pending</code>, <code>private</code></td>
</tr>
<tr>
<td><code>password</code></td>
<td>A password to protect access to the content and excerpt.</td>
</tr>
<tr>
<td><code>title</code></td>
<td>The title for the object.</td>
</tr>
<tr>
<td><code>content</code></td>
<td>The content for the object.</td>
</tr>
<tr>
<td><code>author</code></td>
<td>The ID for the author of the object.</td>
</tr>
<tr>
<td><code>excerpt</code></td>
<td>The excerpt for the object.</td>
</tr>
<tr>
<td><code>featured_media</code></td>
<td>The ID of the featured media for the object.</td>
</tr>
<tr>
<td><code>comment_status</code></td>
<td>Whether or not comments are open on the object. One of: <code>open</code>, <code>closed</code></td>
</tr>
<tr>
<td><code>ping_status</code></td>
<td>Whether or not the object can be pinged. One of: <code>open</code>, <code>closed</code></td>
</tr>
<tr>
<td><code>format</code></td>
<td>The format for the object. One of: <code>standard</code>, <code>aside</code>, <code>chat</code>, <code>gallery</code>, <code>link</code>, <code>image</code>, <code>quote</code>, <code>status</code>, <code>video</code>, <code>audio</code></td>
</tr>
<tr>
<td><code>meta</code></td>
<td>Meta fields.</td>
</tr>
<tr>
<td><code>sticky</code></td>
<td>Whether or not the object should be treated as sticky.</td>
</tr>
<tr>
<td><code>template</code></td>
<td>The theme file to use to display the object. One of:``</td>
</tr>
<tr>
<td><code>categories</code></td>
<td>The terms assigned to the object in the category taxonomy.</td>
</tr>
<tr>
<td><code>tags</code></td>
<td>The terms assigned to the object in the post_tag taxonomy.</td>
</tr>
</tbody></table>
<p><code>POST /wp/v2/posts</code> &#x610F;&#x4E3A;&#x8981;&#x7528;<code>post</code>&#x65B9;&#x6CD5;&#x63D0;&#x4EA4;&#x5230;<code>/wp/v2/posts</code>&#x8FD9;&#x4E2A;&#x5730;&#x5740;</p>
<p>&#x9ED8;&#x8BA4;&#x662F;&#x53EA;&#x8BFB;<code>api</code>, &#x8981;&#x5B9E;&#x73B0;&#x63D0;&#x4EA4;&#x6570;&#x636E;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x63D2;&#x4EF6;<code>jwt</code>&#xFF0C;&#x5B89;&#x88C5;&#x4E86;<code>jwt</code>&#x540E;&#x53EF;&#x4EE5;&#x8BF7;&#x6C42;&#x5230;<code>token</code>&#x4E86;&#xFF0C;&#x7136;&#x540E;&#x5728;<code>rest api</code>&#x4E2D;&#x4F20;&#x5165;<code>token</code>&#x4FE1;&#x606F;&#xFF0C;&#x7CFB;&#x7EDF;&#x5C31;&#x4E0D;&#x4F1A;&#x62D2;&#x7EDD;&#x4F60;&#x7684;&#x53D1;&#x5E03;&#x6587;&#x7AE0;&#x7684;&#x64CD;&#x4F5C;&#x4E86;</p>
<h3 id="&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;"><a href="#&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;" class="headerlink" title="&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;"></a>&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;</h3><ol>
<li><p>&#x7B2C;&#x4E00;&#x6B65; &#x5728;<code>wordpress</code>&#x7BA1;&#x7406;&#x540E;&#x53F0;&#x5B89;&#x88C5; <code>JWT Auth</code> &#x63D2;&#x4EF6;</p>
</li>
<li><p>&#x7B2C;&#x4E8C;&#x90E8; &#x5728;&#x7F51;&#x7AD9;&#x6839;&#x76EE;&#x5F55;  <strong>.htaccess</strong> &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">RewriteEngine on</span><br><span class="line">RewriteCond %{HTTP:Authorization} ^(.*)</span><br><span class="line">RewriteRule ^(.*) - [E=HTTP_AUTHORIZATION:%1]</span><br><span class="line"></span><br><span class="line">SetEnvIf Authorization &quot;(.*)&quot; HTTP_AUTHORIZATION=$1</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x5728; <strong>wp-config.php</strong> &#x6587;&#x4EF6;&#x4E2D;&#x6DFB;&#x52A0;&#x5982;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">define(&apos;JWT_AUTH_SECRET_KEY&apos;, &apos;your-top-secret-key&apos;);//&#x968F;&#x4FBF;&#x586B;&#x5199;&#x4E00;&#x4E2A;&#x5BC6;&#x7801;</span><br><span class="line">define(&apos;JWT_AUTH_CORS_ENABLE&apos;, true);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Post&#x8BF7;&#x6C42;&#x8C03;&#x7528;<code>http://{&#x4F60;&#x7684;&#x57DF;&#x540D;}/wp-json/jwt-auth/v1/token</code>&#x63A5;&#x53E3;&#x83B7;&#x53D6;token</p>
</li>
<li><p>&#x6839;&#x636E;token&#x8FDB;&#x884C;&#x6587;&#x7AE0;&#x7684;&#x53D1;&#x5E03;</p>
</li>
</ol>
<h4 id="&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5982;&#x4E0B;"><a href="#&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5982;&#x4E0B;" class="headerlink" title="&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5982;&#x4E0B;:"></a>&#x6838;&#x5FC3;&#x4EE3;&#x7801;&#x5982;&#x4E0B;:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_token</span><span class="params">()</span>:</span></span><br><span class="line">    session = requests.Session()</span><br><span class="line">    url = <span class="string">&apos;http://sex.newban.cn/wp-json/jwt-auth/v1/token&apos;</span></span><br><span class="line">    data = {</span><br><span class="line">        <span class="string">&apos;username&apos;</span>:<span class="string">&quot;son3g&quot;</span>,</span><br><span class="line">        <span class="string">&apos;password&apos;</span>:<span class="string">&quot;123456&quot;</span></span><br><span class="line">        }</span><br><span class="line">    headers = {<span class="string">&apos;user-agent&apos;</span>: <span class="string">&apos;Mozolla/5.0&apos;</span>,</span><br><span class="line">               }</span><br><span class="line">    resp = session.post(url, data=data, headers=headers, timeout=<span class="number">3335</span>)  <span class="comment"># &#x8BF7;&#x6C42;</span></span><br><span class="line">    r = json.loads(resp.content)</span><br><span class="line">    <span class="keyword">return</span> r</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_do_post</span><span class="params">( token =<span class="string">&apos;&apos;</span>)</span>:</span></span><br><span class="line">        session = requests.Session()</span><br><span class="line">        url = <span class="string">&apos;http://sex.newban.cn/wp-json/wp/v2/posts&apos;</span></span><br><span class="line">        data = {</span><br><span class="line">                <span class="string">&apos;date&apos;</span>: time.strftime(<span class="string">&apos;%Y-%m-%d %H:%M:%S&apos;</span>, time.localtime()),</span><br><span class="line">                <span class="string">&apos;date_gmt&apos;</span>: time.strftime(<span class="string">&apos;%Y-%m-%d %H:%M:%S&apos;</span>, time.gmtime()),</span><br><span class="line">                <span class="string">&apos;slug&apos;</span>: <span class="string">&apos;xx&apos;</span>,</span><br><span class="line">                <span class="string">&apos;status&apos;</span>: <span class="string">&apos;publish&apos;</span>,</span><br><span class="line">                <span class="string">&apos;password&apos;</span>: <span class="string">&apos;&apos;</span>,</span><br><span class="line">                <span class="string">&apos;title&apos;</span>: <span class="string">&apos;rest api&#x53D1;&#x5E03;post&#x6D4B;&#x8BD5;&apos;</span>,</span><br><span class="line">                <span class="string">&apos;content&apos;</span>: <span class="string">&apos;&#x7CFB;&#x7EDF;&#x6D4B;&#x8BD5;&#x6211;&#x60F3;&#x6211;&#x662F;&#x6D77;&#x51AC;&#x5929;&#x7684;&#x5927;&#x6D77;&apos;</span>,</span><br><span class="line">                <span class="string">&apos;author	&apos;</span>: <span class="string">&apos;121852835@qq.com&apos;</span>,</span><br><span class="line">                <span class="string">&apos;excerpt&apos;</span>: <span class="string">&apos;&apos;</span>,</span><br><span class="line">                <span class="string">&apos;featured_media&apos;</span>: <span class="string">&apos;0&apos;</span>,</span><br><span class="line">                <span class="string">&apos;comment_status&apos;</span>: <span class="string">&apos;open&apos;</span>,</span><br><span class="line">                <span class="string">&apos;ping_status&apos;</span>: <span class="string">&apos;closed&apos;</span>,</span><br><span class="line">                <span class="string">&apos;format&apos;</span>: <span class="string">&apos;standard&apos;</span>,</span><br><span class="line">                <span class="string">&apos;meta&apos;</span>: [],</span><br><span class="line">                <span class="string">&apos;sticky&apos;</span>: <span class="literal">False</span>,  <span class="comment"># &#x7F6E;&#x9876;</span></span><br><span class="line">                <span class="string">&apos;template&apos;</span>: <span class="string">&apos;&apos;</span>,</span><br><span class="line">                <span class="string">&apos;categories&apos;</span>: <span class="string">&apos;1&apos;</span>,  <span class="comment"># 1 &#x672A;&#x5206;&#x7C7B;</span></span><br><span class="line">                <span class="string">&apos;tags&apos;</span>: <span class="string">&apos;&apos;</span></span><br><span class="line">        }</span><br><span class="line">        headers = {<span class="string">&apos;user-agent&apos;</span>: <span class="string">&apos;Mozolla/5.0&apos;</span>,</span><br><span class="line">                   <span class="string">&apos;Authorization&apos;</span>: <span class="string">&apos;Bearer &apos;</span> + token</span><br><span class="line">                   }</span><br><span class="line">        resp = session.post(url, data=data, headers=headers, timeout=<span class="number">3335</span>)  <span class="comment"># &#x8BF7;&#x6C42;</span></span><br><span class="line">        <span class="keyword">print</span> (resp.text)</span><br><span class="line">        <span class="comment"># r = json.loads(resp.content, &apos;utf-8&apos;)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># if r[&quot;code&quot;] == 400:</span></span><br><span class="line">        <span class="comment">#         print r[&quot;code&quot;]</span></span><br><span class="line">        <span class="comment">#         print r[&quot;message&quot;]</span></span><br><span class="line">        <span class="comment">#         print r[&quot;data&quot;]</span></span><br><span class="line">        <span class="comment">#         print r[&quot;data&quot;][&quot;status&quot;]</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#         # print r[&quot;data&quot;][&quot;params&quot;]</span></span><br><span class="line">        <span class="comment">#         for key in r[&quot;data&quot;][&quot;params&quot;]:</span></span><br><span class="line">        <span class="comment">#             print (&quot;%s=&gt; %s&quot; % (key, r[&quot;data&quot;][&quot;params&quot;][key]))</span></span><br><span class="line">        <span class="comment">#         # print &apos;resp.text=&gt;&apos; + resp.text</span></span><br><span class="line">        <span class="comment">#</span></span><br><span class="line">        <span class="comment">#         # print time.strftime(&apos;%Y-%m-%d %H:%M:%S&apos;,time.localtime(time.time()))</span></span><br><span class="line">        <span class="comment">#         # print time.strftime(&apos;%a, %d %b %Y %H:%M:%S GMT+0800 (CST)&apos;,time.localtime(time.time())),</span></span><br><span class="line">        <span class="comment">#         dt = formatdate(None, usegmt=True)</span></span><br><span class="line">        <span class="comment">#         dt1 = formatdate(None, usegmt=False)</span></span><br><span class="line">        <span class="comment">#         dt3 = formatdate()</span></span><br><span class="line">        <span class="comment">#         print(dt)</span></span><br><span class="line">        <span class="comment">#         print(dt1)</span></span><br><span class="line">        <span class="comment"># else:</span></span><br><span class="line">        <span class="comment">#         print r[&quot;code&quot;]</span></span><br><span class="line">        <span class="comment">#         print r[&quot;message&quot;]</span></span><br><span class="line">        <span class="comment">#         print resp.status_code</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&apos;__main__&apos;</span>:</span><br><span class="line">        r = get_token()</span><br><span class="line">        <span class="keyword">print</span> (r)</span><br><span class="line">        _do_post(r[<span class="string">&quot;data&quot;</span>][<span class="string">&apos;token&apos;</span>])</span><br></pre></td></tr></table></figure>

<h3 id="&#x4F7F;&#x7528;wordpress-xmlrpc&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;"><a href="#&#x4F7F;&#x7528;wordpress-xmlrpc&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;" class="headerlink" title="&#x4F7F;&#x7528;wordpress_xmlrpc&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;"></a>&#x4F7F;&#x7528;<code>wordpress_xmlrpc</code>&#x7B2C;&#x4E09;&#x65B9;&#x6A21;&#x5757;</h3><p>&#x64CD;&#x4F5C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;:</p>
<ol>
<li><p>&#x5B89;&#x88C5;<code>wordpress_xmlrpc</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-wordpress-xmlrpc</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x6A21;&#x5757;&#x5F15;&#x5165;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> wordpress_xmlrpc <span class="keyword">import</span> Client, WordPressPost</span><br><span class="line"><span class="keyword">from</span> wordpress_xmlrpc.methods.posts <span class="keyword">import</span> GetPosts,NewPost</span><br></pre></td></tr></table></figure>
</li>
<li><p>&#x53D1;&#x5E03;&#x65B0;&#x6587;&#x7AE0;</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">push_article</span><span class="params">(post_title,post_content_html)</span>:</span></span><br><span class="line">    post = WordPressPost()</span><br><span class="line">    post.title = post_title</span><br><span class="line">    post.slug = post_title</span><br><span class="line">    post.content = post_content_html</span><br><span class="line">    post.terms_names = {</span><br><span class="line">      <span class="string">&apos;post_tag&apos;</span>: post_title.split(<span class="string">&quot; &quot;</span>),</span><br><span class="line">      <span class="string">&apos;category&apos;</span>: [<span class="string">&quot;itarticle&quot;</span>]</span><br><span class="line">        }</span><br><span class="line">    post.post_status = <span class="string">&apos;publish&apos;</span></span><br><span class="line">    wp.call(NewPost(post))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</span><br><span class="line">    push_article(<span class="string">&quot;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;</span>,<span class="string">&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>&#x5C5E;&#x6027;&#x4ECB;&#x7ECD;:</p>
<ul>
<li><strong>title</strong>: &#x6587;&#x7AE0;&#x6807;&#x9898;</li>
<li><strong>content</strong>: &#x6587;&#x7AE0;&#x6B63;&#x6587;</li>
<li><strong>post_status</strong>: &#x6587;&#x7AE0;&#x72B6;&#x6001;&#xFF0C;&#x4E0D;&#x5199;&#x9ED8;&#x8BA4;&#x662F;&#x8349;&#x7A3F;&#xFF0C;private&#x8868;&#x793A;&#x79C1;&#x5BC6;&#x7684;&#xFF0C;draft&#x8868;&#x793A;&#x8349;&#x7A3F;&#xFF0C;publish&#x8868;&#x793A;&#x53D1;&#x5E03;</li>
<li><strong>terms_names</strong>: &#x8BBE;&#x7F6E;&#x6587;&#x7AE0;&#x7684;&#x6807;&#x7B7E; tag&#x7B49;</li>
<li><strong>slug</strong>: &#x6587;&#x7AE0;&#x522B;&#x540D;</li>
</ul>
</li>
</ol>
<p>&#x5B8C;&#x6574;&#x4EE3;&#x7801;&#x5982;&#x4E0B;:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> wordpress_xmlrpc <span class="keyword">import</span> Client, WordPressPost</span><br><span class="line"><span class="keyword">from</span> wordpress_xmlrpc.methods.posts <span class="keyword">import</span> GetPosts,NewPost</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">push_article</span><span class="params">(post_title,post_content_html)</span>:</span></span><br><span class="line">    post = WordPressPost()</span><br><span class="line">    post.title = post_title</span><br><span class="line">    post.slug = post_title</span><br><span class="line">    post.content = post_content_html</span><br><span class="line">    post.terms_names = {</span><br><span class="line">      <span class="string">&apos;post_tag&apos;</span>: post_title.split(<span class="string">&quot; &quot;</span>),</span><br><span class="line">      <span class="string">&apos;category&apos;</span>: [<span class="string">&quot;itarticle&quot;</span>]</span><br><span class="line">        }</span><br><span class="line">    post.post_status = <span class="string">&apos;publish&apos;</span></span><br><span class="line">    wp.call(NewPost(post))</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&apos;__main__&apos;</span>:</span><br><span class="line">    push_article(<span class="string">&quot;&#x6587;&#x7AE0;&#x6807;&#x9898;&quot;</span>,<span class="string">&quot;&#x6587;&#x7AE0;&#x5185;&#x5BB9;&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x7B80;&#x5355;&#x5462;, &#x5982;&#x679C;&#x662F;&#x6279;&#x91CF;&#x4E0A;&#x4F20;&#x7684;&#x8BDD;, &#x76F4;&#x63A5;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x8C03;&#x7528;&#x5373;&#x53EF;</p>
<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../25.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../25.html" itemprop="url">Django创建数据库常用字段及参数</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-10T11:05:52+08:00">
                2020-09-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="&#x5E38;&#x7528;&#x5B57;&#x6BB5;"><a href="#&#x5E38;&#x7528;&#x5B57;&#x6BB5;" class="headerlink" title="&#x5E38;&#x7528;&#x5B57;&#x6BB5;"></a>&#x5E38;&#x7528;&#x5B57;&#x6BB5;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">1&#x3001;models.AutoField&#x3000;&#x3000;&#x81EA;&#x589E;&#x5217;= int(11)</span><br><span class="line">&#x3000;&#x3000;&#x5982;&#x679C;&#x6CA1;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x9ED8;&#x8BA4;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x540D;&#x79F0;&#x4E3A; id &#x7684;&#x5217;&#xFF0C;&#x5982;&#x679C;&#x8981;&#x663E;&#x793A;&#x7684;&#x81EA;&#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x81EA;&#x589E;&#x5217;&#xFF0C;&#x5FC5;&#x987B;&#x5C06;&#x7ED9;&#x5217;&#x8BBE;&#x7F6E;&#x4E3A;&#x4E3B;&#x952E; primary_key=True&#x3002;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">2&#x3001;models.CharField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;&#x5B57;&#x6BB5;</span><br><span class="line">&#x3000;&#x3000;&#x5FC5;&#x987B; max_length &#x53C2;&#x6570;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">3&#x3001;models.BooleanField&#x3000;&#x3000;&#x5E03;&#x5C14;&#x7C7B;&#x578B;=tinyint(1)</span><br><span class="line">&#x3000;&#x3000;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&#xFF0C;Blank=True</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">4&#x3001;models.ComaSeparatedIntegerField&#x3000;&#x3000;&#x7528;&#x9017;&#x53F7;&#x5206;&#x5272;&#x7684;&#x6570;&#x5B57;=varchar</span><br><span class="line">&#x3000;&#x3000;&#x7EE7;&#x627F;CharField&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B; max_lenght &#x53C2;&#x6570;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">5&#x3001;models.DateField&#x3000;&#x3000;&#x65E5;&#x671F;&#x7C7B;&#x578B; date</span><br><span class="line">&#x3000;&#x3000;&#x5BF9;&#x4E8E;&#x53C2;&#x6570;&#xFF0C;auto_now =True&#x5219;&#x6BCF;&#x6B21;&#x66F4;&#x65B0;&#x90FD;&#x4F1A;&#x66F4;&#x65B0;&#x8FD9;&#x4E2A;&#x65F6;&#x95F4;&#xFF1B;auto_now_add &#x5219;&#x53EA;&#x662F;&#x7B2C;&#x4E00;&#x6B21;&#x521B;&#x5EFA;&#x6DFB;&#x52A0;&#xFF0C;&#x4E4B;&#x540E;&#x7684;&#x66F4;&#x65B0;&#x4E0D;&#x518D;&#x6539;&#x53D8;&#x3002;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">6&#x3001;models.DateTimeField&#x3000;&#x3000;&#x65E5;&#x671F;&#x7C7B;&#x578B; datetime</span><br><span class="line">&#x3000;&#x3000;&#x540C;DateField&#x7684;&#x53C2;&#x6570;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">7&#x3001;models.Decimal&#x3000;&#x3000;&#x5341;&#x8FDB;&#x5236;&#x5C0F;&#x6570;&#x7C7B;&#x578B;= decimal</span><br><span class="line">&#x3000;&#x3000;&#x5FC5;&#x987B;&#x6307;&#x5B9A;&#x6574;&#x6570;&#x4F4D;max_digits&#x548C;&#x5C0F;&#x6570;&#x4F4D;decimal_places</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">8&#x3001;models.EmailField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF08;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#x90AE;&#x7BB1;&#xFF09;=varchar</span><br><span class="line">&#x3000;&#x3000;&#x5BF9;&#x5B57;&#x7B26;&#x4E32;&#x8FDB;&#x884C;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">9&#x3001;models.FloatField&#x3000;&#x3000;&#x6D6E;&#x70B9;&#x7C7B;&#x578B;= double</span><br><span class="line"></span><br><span class="line">10&#x3001;models.IntegerField&#x3000;&#x3000;&#x6574;&#x5F62;</span><br><span class="line"></span><br><span class="line">11&#x3001;models.BigIntegerField&#x3000;&#x3000;&#x957F;&#x6574;&#x5F62;</span><br><span class="line">&#x3000;&#x3000;integer_field_ranges ={</span><br><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;&apos;SmallIntegerField&apos;:(-32768,32767),</span><br><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;&apos;IntegerField&apos;:(-2147483648,2147483647),</span><br><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;&apos;BigIntegerField&apos;:(-9223372036854775808,9223372036854775807),</span><br><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;&apos;PositiveSmallIntegerField&apos;:(0,32767),</span><br><span class="line">&#x3000;&#x3000;&#x3000;&#x3000;&apos;PositiveIntegerField&apos;:(0,2147483647),</span><br><span class="line">&#x3000;&#x3000;}</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">12&#x3001;models.IPAddressField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF08;ip4&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;&#xFF09;</span><br><span class="line"></span><br><span class="line">13&#x3001;models.GenericIPAddressField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;&#x7C7B;&#x578B;&#xFF08;ip4&#x548C;ip6&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF09;</span><br><span class="line">&#x3000;&#x3000;&#x53C2;&#x6570;protocol&#x53EF;&#x4EE5;&#x662F;&#xFF1A;both&#x3001;ipv4&#x3001;ipv6</span><br><span class="line">&#x3000;&#x3000;&#x9A8C;&#x8BC1;&#x65F6;&#xFF0C;&#x4F1A;&#x6839;&#x636E;&#x8BBE;&#x7F6E;&#x62A5;&#x9519;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">14&#x3001;models.NullBooleanField&#x3000;&#x3000;&#x5141;&#x8BB8;&#x4E3A;&#x7A7A;&#x7684;&#x5E03;&#x5C14;&#x7C7B;&#x578B;</span><br><span class="line"></span><br><span class="line">15&#x3001;models.PositiveIntegerFiel&#x3000;&#x3000;&#x6B63;Integer</span><br><span class="line"></span><br><span class="line">16&#x3001;models.PositiveSmallIntegerField&#x3000;&#x3000;&#x6B63;smallInteger</span><br><span class="line"></span><br><span class="line">17&#x3001;models.SlugField&#x3000;&#x3000;&#x51CF;&#x53F7;&#x3001;&#x4E0B;&#x5212;&#x7EBF;&#x3001;&#x5B57;&#x6BCD;&#x3001;&#x6570;&#x5B57;</span><br><span class="line"></span><br><span class="line">18&#x3001;models.SmallIntegerField&#x3000;&#x3000;&#x6570;&#x5B57;</span><br><span class="line">&#x3000;&#x3000;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x6709;&#xFF1A;tinyint&#x3001;smallint&#x3001;int&#x3001;bigint</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">19&#x3001;models.TextField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;=longtext</span><br><span class="line"></span><br><span class="line">20&#x3001;models.TimeField&#x3000;&#x3000;&#x65F6;&#x95F4; HH:MM[:ss[.uuuuuu]]</span><br><span class="line"></span><br><span class="line">21&#x3001;models.URLField&#x3000;&#x3000;&#x5B57;&#x7B26;&#x4E32;&#xFF0C;&#x5730;&#x5740;&#x6B63;&#x5219;&#x8868;&#x8FBE;&#x5F0F;</span><br><span class="line"></span><br><span class="line">22&#x3001;models.BinaryField&#x3000;&#x3000;&#x4E8C;&#x8FDB;&#x5236;</span><br><span class="line"></span><br><span class="line">23&#x3001;models.ImageField  &#x56FE;&#x7247;</span><br><span class="line"></span><br><span class="line">24&#x3001;models.FilePathField  &#x6587;&#x4EF6;</span><br></pre></td></tr></table></figure>

<h2 id="&#x5E38;&#x7528;&#x53C2;&#x6570;"><a href="#&#x5E38;&#x7528;&#x53C2;&#x6570;" class="headerlink" title="&#x5E38;&#x7528;&#x53C2;&#x6570;"></a>&#x5E38;&#x7528;&#x53C2;&#x6570;</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">1&#x3001;null=True</span><br><span class="line">&#x3000;&#x3000;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x5B57;&#x6BB5;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x4E3A;&#x7A7A;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">2&#x3001;blank=True</span><br><span class="line">&#x3000;&#x3000;django&#x7684;Admin&#x4E2D;&#x6DFB;&#x52A0;&#x6570;&#x636E;&#x65F6;&#x662F;&#x5426;&#x53EF;&#x5141;&#x8BB8;&#x7A7A;&#x503C;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">3&#x3001;primary_key =False</span><br><span class="line">&#x3000;&#x3000;&#x4E3B;&#x952E;&#xFF0C;&#x5BF9;AutoField&#x8BBE;&#x7F6E;&#x4E3B;&#x952E;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x4EE3;&#x66FF;&#x539F;&#x6765;&#x7684;&#x81EA;&#x589E; id &#x5217;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">4&#x3001;auto_now &#x548C; auto_now_add</span><br><span class="line">&#x3000;&#x3000;auto_now &#x81EA;&#x52A8;&#x521B;&#x5EFA;---&#x65E0;&#x8BBA;&#x6DFB;&#x52A0;&#x6216;&#x4FEE;&#x6539;&#xFF0C;&#x90FD;&#x662F;&#x5F53;&#x524D;&#x64CD;&#x4F5C;&#x7684;&#x65F6;&#x95F4;</span><br><span class="line">&#x3000;&#x3000;auto_now_add &#x81EA;&#x52A8;&#x521B;&#x5EFA;---&#x6C38;&#x8FDC;&#x662F;&#x521B;&#x5EFA;&#x65F6;&#x7684;&#x65F6;&#x95F4;</span><br><span class="line">&#x3000;&#x3000;</span><br><span class="line">5&#x3001;choices</span><br><span class="line">GENDER_CHOICE =(</span><br><span class="line">(u&apos;M&apos;, u&apos;Male&apos;),</span><br><span class="line">(u&apos;F&apos;, u&apos;Female&apos;),</span><br><span class="line">) </span><br><span class="line">gender = models.CharField(max_length=2,choices = GENDER_CHOICE)  #&#x5B57;&#x6BB5;&#x6A21;&#x677F;&#x5C55;&#x793A;</span><br><span class="line"></span><br><span class="line">6&#x3001;max_length  &#x6700;&#x5927;&#x957F;&#x5EA6;</span><br><span class="line"></span><br><span class="line">7&#x3001;default&#x3000;&#x3000;&#x9ED8;&#x8BA4;&#x503C;</span><br><span class="line"></span><br><span class="line">8&#x3001;verbose_name&#x3000;&#x3000;Admin&#x4E2D;&#x5B57;&#x6BB5;&#x7684;&#x663E;&#x793A;&#x540D;&#x79F0;</span><br><span class="line"></span><br><span class="line">9&#x3001;name|db_column&#x3000;&#x3000;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7684;&#x5B57;&#x6BB5;&#x540D;&#x79F0;</span><br><span class="line"></span><br><span class="line">10&#x3001;unique=True&#x3000;&#x3000;&#x4E0D;&#x5141;&#x8BB8;&#x91CD;&#x590D;</span><br><span class="line"></span><br><span class="line">11&#x3001;db_index =True&#x3000;&#x3000;&#x6570;&#x636E;&#x5E93;&#x7D22;&#x5F15;</span><br><span class="line"></span><br><span class="line">12&#x3001;editable=True&#x3000;&#x3000;&#x5728;Admin&#x91CC;&#x662F;&#x5426;&#x53EF;&#x7F16;&#x8F91;</span><br><span class="line"></span><br><span class="line">13&#x3001;error_messages=None&#x3000;&#x3000;&#x9519;&#x8BEF;&#x63D0;&#x793A;</span><br><span class="line"></span><br><span class="line">14&#x3001;auto_created=False&#x3000;&#x3000;&#x81EA;&#x52A8;&#x521B;&#x5EFA;</span><br><span class="line"></span><br><span class="line">15&#x3001;help_text&#x3000;&#x3000;&#x5728;Admin&#x4E2D;&#x63D0;&#x793A;&#x5E2E;&#x52A9;&#x4FE1;&#x606F;</span><br><span class="line"></span><br><span class="line">16&#x3001;validators=[]  &#x9A8C;&#x8BC1;&#x5668;</span><br><span class="line"></span><br><span class="line">17&#x3001;upload-to    &#x91CD;&#x5B9A;&#x4E49;&#x4E0A;&#x4F20;&#x6587;&#x4EF6;&#x7684;&#x8DEF;&#x5F84;&#x524D;&#x7F00;</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://code.newban.cn../../34.html">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="乱码三千">
      <meta itemprop="description" content>
      <meta itemprop="image" content="../../images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="乱码三千 – 分享实用IT技术">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="../../34.html" itemprop="url">Mac平台下使用Charles进行抓包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2020-09-08T14:48:35+08:00">
                2020-09-08
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="&#x524D;&#x8A00;"><a href="#&#x524D;&#x8A00;" class="headerlink" title="&#x524D;&#x8A00;"></a>&#x524D;&#x8A00;</h3><p> &#x67D0;&#x5929;&#xFF0C;&#x7A81;&#x7136;&#x4EA7;&#x751F;&#x4E86;&#x5BF9;&#x624B;&#x673A;&#x8BBF;&#x95EE;&#x8FDB;&#x884C;&#x6293;&#x5305;&#x7684;&#x60F3;&#x6CD5;&#xFF0C;<code>google</code>&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x53D1;&#x73B0;&#x5728;<code>mac</code>&#x4E0B;&#x4F7F;&#x7528;<code>charles</code>&#x8FDB;&#x884C;&#x624B;&#x673A;&#x8BBF;&#x95EE;&#x7684;&#x6293;&#x5305;&#x6BD4;&#x8F83;&#x5BB9;&#x6613;&#xFF0C;&#x5C31;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x6B21;&#x624B;&#x673A;&#x6293;&#x5305;&#x7684;&#x5C1D;&#x8BD5;&#xFF08;&#x5B89;&#x5353;&#x624B;&#x673A;&#xFF09;&#x3002;</p>
<p><strong>&#x8FD9;&#x91CC;&#x5F3A;&#x8C03;&#x4E00;&#x4E0B; &#x5B89;&#x5353;&#x5E94;&#x7528;&#x6293;&#x5305;&#x5EFA;&#x8BAE;&#x4F7F;&#x7528;<code>Android7.0</code>&#x4EE5;&#x4E0B;&#x7684;&#x6A21;&#x62DF;&#x5668;&#x8FDB;&#x884C;&#x64CD;&#x4F5C;, &#x5426;&#x5219;HTTPS&#x534F;&#x8BAE;&#x7684;&#x8BF7;&#x6C42;&#x53EF;&#x80FD;&#x5B58;&#x5728;<code>443</code>&#x65E0;&#x6CD5;&#x6293;&#x53D6;&#x60C5;&#x51B5;</strong></p>
<h3 id="mac&#x5B89;&#x88C5;charles"><a href="#mac&#x5B89;&#x88C5;charles" class="headerlink" title="mac&#x5B89;&#x88C5;charles"></a>mac&#x5B89;&#x88C5;charles</h3><p> &#x5BF9;&#x4E8E;<code>mac</code>&#x4E0B;&#x5B89;&#x88C5;<code>charles</code>&#xFF0C;&#x7F51;&#x4E0A;&#x6559;&#x7A0B;&#x5F88;&#x591A;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x8FDB;&#x884C;&#x8BF4;&#x660E;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x6761;&#x4EF6;&#x7684;&#x8BDD;&#xFF0C;&#x6700;&#x597D;&#x8FDB;&#x884C;&#x8D2D;&#x4E70;&#x3002;</p>
<h3 id="charles&#x6355;&#x83B7;http&#x8BF7;&#x6C42;"><a href="#charles&#x6355;&#x83B7;http&#x8BF7;&#x6C42;" class="headerlink" title="charles&#x6355;&#x83B7;http&#x8BF7;&#x6C42;"></a>charles&#x6355;&#x83B7;http&#x8BF7;&#x6C42;</h3><p> 1&#x3001;<strong>Proxy &#x2013; macOS</strong> Proxy &#x5148;&#x6253;&#x5F00;&#x4EE3;&#x7406;&#xFF0C;&#x4F7F;&#x5F97;mac&#x4E0A;&#x6240;&#x6709;&#x8BF7;&#x6C42;&#x90FD;&#x901A;&#x8FC7;charles&#x8FDB;&#x884C;&#x4EE3;&#x7406;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/20200908145123.png" alt></p>
<p> 2&#x3001;<strong>Proxy &#x2013; Proxy Settings</strong> &#x8BBE;&#x7F6E;&#x76D1;&#x542C;&#x7AEF;&#x53E3;&#x53F7;&#x4E3A;8888&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/hWPSUBakNF97n12.png" alt></p>
<p> 3&#x3001;&#x6B64;&#x65F6;&#xFF0C;&#x7528;&#x7535;&#x8111;&#x8BBF;&#x95EE;&#x767E;&#x5EA6;&#xFF0C;&#x5C31;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x8BBF;&#x95EE;&#x7684;&#x5305;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x76D1;&#x542C;&#x624B;&#x673A;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x5C31;&#x8FD8;&#x5F97;&#x5728;&#x624B;&#x673A;&#x4E0A;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/wQbUoSWAdhlP52J.png" alt></p>
<p> 4&#x3001;&#x5148;&#x83B7;&#x53D6;&#x7535;&#x8111;&#x7684;ip&#x5730;&#x5740;&#xFF0C;<strong>Help &#x2013; Local Ip Address</strong> <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/BOIz4r5VSdRFAgW.png" alt></p>
<p> 5&#x3001;&#x7136;&#x540E;&#x5728;&#x624B;&#x673A;&#x8FDE;&#x63A5;wifi&#xFF0C;&#x6B64;&#x65F6;&#x624B;&#x673A;&#x548C;&#x7535;&#x8111;&#x8FDE;&#x63A5;&#x7684;&#x5FC5;&#x987B;&#x662F;&#x540C;&#x4E00;&#x4E2A;wifi&#xFF0C;&#x7136;&#x540E;&#x5728;&#x624B;&#x673A;&#x8BBE;&#x7F6E;&#x4EE3;&#x7406;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/bdZgW19vieRu3LM.png" alt></p>
<p>6&#x3001;&#x8BBE;&#x7F6E;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x5728;&#x624B;&#x673A;&#x6253;&#x5F00;&#x4E00;&#x4E2A;&#x7F51;&#x5740;&#xFF0C;&#x6B64;&#x65F6;chartles&#x5C31;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5230;&#x624B;&#x673A;&#x8BBF;&#x95EE;&#x7684;&#x5305;&#x4E86;&#x3002;</p>
<h3 id="charles&#x6355;&#x83B7;https&#x8BF7;&#x6C42;"><a href="#charles&#x6355;&#x83B7;https&#x8BF7;&#x6C42;" class="headerlink" title="charles&#x6355;&#x83B7;https&#x8BF7;&#x6C42;"></a>charles&#x6355;&#x83B7;https&#x8BF7;&#x6C42;</h3><p> http&#x7684;&#x8BF7;&#x6C42;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E9B;&#x7F51;&#x7AD9;&#x662F;https&#x7684;&#xFF0C;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x89E3;&#x6790;https&#x7684;&#x5305;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x5B89;&#x88C5;&#x8BC1;&#x4E66;&#x4E86;&#x3002;</p>
<p> 1&#x3001;<strong>Help &#x2013; SSL Proxying &#x2013; install Charles Root Certificate</strong>,&#x9996;&#x5148;&#x5728;mac&#x5B89;&#x88C5;CA&#x8BC1;&#x4E66;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/FrVcvGhgWL7CB5T.png" alt></p>
<p> 2&#x3001;&#x7136;&#x540E;&#x8981;&#x59CB;&#x7EC8;&#x4FE1;&#x4EFB;&#x8BE5;&#x8BC1;&#x4E66;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/ibw5QkjI4g8DLEA.png" alt></p>
<p> 3&#x3001;<strong>Help &#x2013; SSL Proxying &#x2013; Install Charles Root Certificate On &#x2026;</strong>,&#x7136;&#x540E;&#x751F;&#x6210;&#x624B;&#x673A;&#x4E0A;&#x7684;&#x8BC1;&#x4E66;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/5RkQIY1svdKUDbN.png" alt></p>
<p> 4&#x3001;<strong>Help &#x2013; SSL Proxying &#x2013; Save &#x2026;</strong>,&#x7136;&#x540E;&#x4FDD;&#x5B58;&#x8BE5;&#x8BC1;&#x4E66;&#xFF0C;&#x5B83;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;<strong>charles-ssl-proxying.pem</strong>&#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x628A;&#x8BE5;&#x6587;&#x4EF6;&#x7684;&#x540E;&#x7F00;&#x6539;&#x4E3A;<strong>.crt</strong>,&#x7136;&#x540E;&#x53D1;&#x9001;&#x5230;&#x4F60;&#x7684;&#x5B89;&#x5353;&#x624B;&#x673A;&#xFF0C;&#x8FDB;&#x884C;&#x5B89;&#x88C5;&#x5373;&#x53EF;&#x3002; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/lRA2w4Go5YjLqb8.png" alt></p>
<p> 5&#x3001;<strong>Proxy &#x2013; SSL Proxying setting</strong>,&#x8BBE;&#x7F6E;&#x4F60;&#x8981;&#x76D1;&#x542C;&#x7684;https&#x8BF7;&#x6C42;&#x7684;&#x7F51;&#x5740; <img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/GY2pOr1ktqWla9i.png" alt></p>
<p> 6&#x3001;&#x624B;&#x673A;&#x518D;&#x8BBF;&#x95EE;&#x8BE5;&#x7F51;&#x5740;&#xFF0C;&#x5373;&#x53EF;&#x4EE5;&#x6293;&#x5230;https&#x7684;&#x5305;&#x4E86;&#x3002;</p>
<p><img src="https://gitee.com/songjianzaina/lunanzb_img/raw/master/img/elVRwzuWX4Jsc32.png" alt></p>
<h3 id="APP&#x5B89;&#x88C5;&#x62A5;&#x9519;&#x89E3;&#x51B3;"><a href="#APP&#x5B89;&#x88C5;&#x62A5;&#x9519;&#x89E3;&#x51B3;" class="headerlink" title="APP&#x5B89;&#x88C5;&#x62A5;&#x9519;&#x89E3;&#x51B3;"></a>APP&#x5B89;&#x88C5;&#x62A5;&#x9519;&#x89E3;&#x51B3;</h3><h4 id="1-&#x5982;&#x679C;&#x51FA;&#x73B0;&#x6253;&#x5F00;&#x65F6;&#x63D0;&#x793A;&#xFF1A;xxx-app&#x5DF2;&#x635F;&#x574F;&#xFF0C;&#x65E0;&#x6CD5;&#x6253;&#x5F00;-&#x90A3;&#x4E48;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;&#x89E3;&#x51B3;"><a href="#1-&#x5982;&#x679C;&#x51FA;&#x73B0;&#x6253;&#x5F00;&#x65F6;&#x63D0;&#x793A;&#xFF1A;xxx-app&#x5DF2;&#x635F;&#x574F;&#xFF0C;&#x65E0;&#x6CD5;&#x6253;&#x5F00;-&#x90A3;&#x4E48;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;&#x89E3;&#x51B3;" class="headerlink" title="1. &#x5982;&#x679C;&#x51FA;&#x73B0;&#x6253;&#x5F00;&#x65F6;&#x63D0;&#x793A;&#xFF1A;xxx.app&#x5DF2;&#x635F;&#x574F;&#xFF0C;&#x65E0;&#x6CD5;&#x6253;&#x5F00;,&#x90A3;&#x4E48;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;&#x89E3;&#x51B3;:"></a>1. &#x5982;&#x679C;&#x51FA;&#x73B0;&#x6253;&#x5F00;&#x65F6;&#x63D0;&#x793A;&#xFF1A;xxx.app&#x5DF2;&#x635F;&#x574F;&#xFF0C;&#x65E0;&#x6CD5;&#x6253;&#x5F00;,&#x90A3;&#x4E48;&#x8F93;&#x5165;&#x4EE5;&#x4E0B;&#x6307;&#x4EE4;&#x89E3;&#x51B3;:</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo xattr -d com.apple.quarantine /Applications/xxx.app</span><br></pre></td></tr></table></figure>

<p>&#x5176;&#x4E2D;<code>xxx.app</code>&#x662F;&#x51FA;&#x95EE;&#x9898;&#x7684;APP&#x540D;&#x79F0;&#xFF0C;&#x5982;&#x540D;&#x79F0;&#x4E2D;&#x6709;&#x7A7A;&#x683C;&#xFF0C;&#x53EF;&#x7528;&#x201C;\&#x201D;&#x52A0;&#x7A7A;&#x683C;&#x4EE3;&#x66FF;</p>
<h4 id="2-&#x5982;&#x679C;&#x62A5;&#x9519;"><a href="#2-&#x5982;&#x679C;&#x62A5;&#x9519;" class="headerlink" title="2.&#x5982;&#x679C;&#x62A5;&#x9519;"></a>2.&#x5982;&#x679C;&#x62A5;&#x9519;</h4><blockquote>
<p>Charles cannot configure your proxy settings while it is on a read-only volume. Perhaps you are running Charles from the disk image? If so, please copy Charles to the Applications folder and run it again. Otherwise please ensure that Charles is running on a volume that is read-write and try again.</p>
</blockquote>
<h4 id="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"><a href="#&#x89E3;&#x51B3;&#x529E;&#x6CD5;" class="headerlink" title="&#x89E3;&#x51B3;&#x529E;&#x6CD5;"></a>&#x89E3;&#x51B3;&#x529E;&#x6CD5;</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo chown -R root &quot;/Applications/Charles.app/Contents/Resources&quot;</span><br><span class="line"> sudo chmod -R u+s &quot;/Applications/Charles.app/Contents/Resources&quot;</span><br></pre></td></tr></table></figure>

<p><strong>&#x672C;&#x6587;&#x4E3A;&#x4F5C;&#x8005;&#x539F;&#x521B; &#x8F6C;&#x8F7D;&#x65F6;&#x8BF7;&#x6CE8;&#x660E;&#x51FA;&#x5904; &#x8C22;&#x8C22;</strong></p>
<p><img src="https://gitee.com/songjianzaina/SavePicGoPic/raw/master/img/20191119095516.png" alt></p>
<p><em>&#x4E71;&#x7801;&#x4E09;&#x5343; &#x2013; &#x70B9;&#x6EF4;&#x79EF;&#x7D2F; ,&#x6B22;&#x8FCE;&#x6765;&#x5230;&#x4E71;&#x7801;&#x4E09;&#x5343;&#x6280;&#x672F;&#x535A;&#x5BA2;&#x7AD9;</em></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="../36/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="../../">1</a><span class="space">&hellip;</span><a class="page-number" href="../36/">36</a><span class="page-number current">37</span><a class="page-number" href="../38/">38</a><span class="space">&hellip;</span><a class="page-number" href="../48/">48</a><a class="extend next" rel="next" href="../38/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">乱码三千</p>
              <p class="site-description motion-element" itemprop="description">android程序员一枚,擅长java,kotlin,python,金融投资,欢迎交流~</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="https://code.newban.cn/archives/">
              
                  <span class="site-state-item-count">476</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">139</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="../../atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">乱码三千</span>
  <div>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
  </div>
  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




  <script type="text/javascript" async src="js/src/mermaid.min.js"></script>
  <script>
  if (window.mermaid) {
        var mermaid_config = {
            startOnLoad: true,
            theme: 'default',
            flowchart:{
                useMaxWidth: false,
                htmlLabels: true
            }                
        }
        mermaid.initialize(mermaid_config);
  }
  </script>
  
        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="../../lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="../../lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="../../lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="../../js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="../../js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="../../js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  







<!-- LOCAL: You can save these files to your site and update links -->
    
        
        <link rel="stylesheet" href="https://aimingoo.github.io/gitmint/style/default.css">
        <script src="https://aimingoo.github.io/gitmint/dist/gitmint.browser.js"></script>
    
<!-- END LOCAL -->

    
      <style>
        a.gitment-editor-footer-tip { display: none; }
        .gitment-container.gitment-footer-container { display: none; }
      </style>
    

    







  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  

</body>
</html>
